<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="A system for controling exhibit components">
    <meta name="author" content="Morgan Rehnberg">

    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="icon/green.ico">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="css/bootstrap.min.css"> -->

    <title></title>

    <style>
      pre {
        background-color: #e8eded;
        padding-top: 10px;
        padding-bottom: 10px;
        margin-left: 10px;
        padding-left: 10px;
        padding-right: 10px;
        margin-right: 10px;
      }
      .componentContentButton {
        width: 80% !important;
      }
      .dropdown-item {
        padding-top: 10px;
        padding-bottom: 10px;
      }
      .handCursor {
        cursor: pointer;
      }
      .schedule-date-specific {
        background-color: rgba(91, 192, 222, 0.2);
      }

      #componentAvailableContentList {
        max-height: 25vh;
        min-height: 15vh;
        overflow-y: scroll;
      }
    </style>
  </head>

  <body>

    <main role="main" class="container mb-4">

      <div class="row mt-2 mb-2">
        <div class="col-auto">
          <H4><div id="galleryNameField"></div></H4>
          <H1><div id="exhibitNameField"></div></H1>
        </div>
      </div>

      <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
          <a class="nav-item nav-link active" id="nav-components-tab" data-toggle="tab" href="#nav-components" role="tab" aria-controls="nav-components" aria-selected="true">Components</a>
          <a class="nav-item nav-link" id="nav-schedule-tab" data-toggle="tab" href="#nav-schedule" role="tab" aria-controls="nav-schedule" aria-selected="false">Schedule</a>
          <a class="nav-item nav-link" id="nav-issues-tab" data-toggle="tab" href="#nav-issues" role="tab" aria-controls="nav-issues" aria-selected="false">Issues</a>
          <a class="nav-item nav-link" id="nav-settings-tab" data-toggle="tab" href="#nav-settings" role="tab" aria-controls="nav-settings" aria-selected="false">Settings</a>
          <a class="nav-item nav-link" id="nav-help-tab" data-toggle="tab" href="#nav-help" role="tab" aria-controls="nav-help" aria-selected="false">Help</a>
        </div>
      </nav>

      <div class="tab-content" id="nav-tabContent">

        <div class="tab-pane fade show active" id="nav-components" role="tabpanel" aria-labelledby="nav-components-tab">

          <div class="modal" tabindex="-1" role="dialog" id="componentInfoModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header w-100">
                  <div class='row modal-title align-items-middle w-100'>
                    <div class='col-8'>
                      <h4 id="componentInfoModalTitle"></h4>
                    </div>
                    <div class='col-4'>
                      <div id="componentInfoModalIPAddress" align="right"></div>
                    </div>
                    <div class="col-12">
                      <div id="componentInfoModalDescription">This is the description</div>
                    </div>
                  </div>
                </div>
                <div class="modal-body">

                  <div class='row align-items-end' id="contentUploadSystemStatsView">
                    <div class='col-4'>
                      <strong id="contentUploadDiskSpaceFree"></strong>
                      <div class="progress" style="height: 20px;">
                        <div id="contentUploadDiskSpaceUsedBar" class="progress-bar bg-success" role="progressbar" style="width: 70%;" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                        <div id="contentUploadDiskSpaceFreeBar" class="progress-bar bg-secondary" role="progressbar" style="width: 30%;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>

                    <div class='col-4'>
                      <strong id="contentUploadCPUUsed"></strong>
                      <div class="progress" style="height: 20px;">
                        <div id="contentUploadCPUUsedBar" class="progress-bar bg-success" role="progressbar" style="width: 70%;" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                        <div id="contentUploadCPUFreeBar"class="progress-bar bg-secondary" role="progressbar" style="width: 30%;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>

                    <div class='col-4'>
                      <strong id="contentUploadRAMUsed"></strong>
                      <div class="progress" style="height: 20px;">
                        <div id="contentUploadRAMUsedBar" class="progress-bar bg-success" role="progressbar" style="width: 60%;" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                        <div id="contentUploadRAMFreeBar" class="progress-bar bg-secondary" role="progressbar" style="width: 40%;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                    <hr>
                  </div>

                  <ul class="nav nav-tabs mt-3" id="componentInfoModalTabList" role="tablist">
                    <li class="nav-item">
                      <a class="nav-link active" id="componentInfoModalContentTabButton" data-toggle="tab" href="#componentInfoModalContentTab" role="tab" aria-controls="Content" aria-selected="true">Content</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" id="componentInfoModalMaintenanceTabButton" data-toggle="tab" href="#componentInfoModalMaintenanceTab" role="tab" aria-controls="Maintenance" aria-selected="false">Maintenance</a>
                    </li>
                  </ul>

                  <div class="tab-content" id="componentInfoModalTabContainer">
                    <div class="tab-pane fade show active" id="componentInfoModalContentTab" role="tabpanel" aria-labelledby="componentInfoModalContentTabButton">
                      <div class="row mt-3" id="componentInfoConnectingNotice">
                        <div class='col-8 offset-2'>
                          <center>
                            <H5 id="componentInfoConnectionStatusInPrograss">Connecting to component...</H5>
                            <H5 id="componentInfoConnectionStatusFailed">Unable to connect to component</H5>
                          </center>
                        </div>
                      </div>
                      <div id="componentAvailableContentRow" class="row">
                        <div class="col-12 mt-3">
                          <H5>Available content</H5>
                        </div>
                        <div class="col-12 w-100">
                          <div class="row" id="componentAvailableContentList"></div>
                        </div>
                        <div class='col-12'>
                          <button type="button" class="btn btn-primary mt-2" onclick="submitComponentContentChange()" id="componentSaveConfirmationButton">Save changes</button>
                        </div>

                      </div>

                      <div id="componentcontentUploadInterface" class="form-group mt-3 mb-0">
                        <label for="componentContentUpload"><H5>Upload new content</H5></label>
                        <div class="row align-middle">
                          <div class="col-8">
                            <label class="btn btn-outline-secondary text-wrap">
                              <span id="componentContentUploadfilename">Choose file</span>
                              <input hidden type="file" class="form-control-file" id="componentContentUpload" onchange="onUploadContentChange()">
                            </label>
                          </div>
                          <div class="col-4">
                            <button id="contentUploadSubmitButton" class='btn btn-block btn-outline-primary' onclick="uploadComponentContentFile()">Upload</button>
                          </div>

                            <div class='col-12 mt-3' id='contentUploadProgressBarContainer'>
                              <div class="progress" style="height: 25px;">
                                <div id='contentUploadProgressBar' class="progress-bar" role="progressbar" style="width: 30%; font-size: large;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                              </div>
                            </div>
                          <div class='col-12 text-danger mt-2' id='uploadOverwriteWarning'>Warning: this upload will overwrite a file of the same name.</div>
                          <div class='col-12 text-danger mt-2' id='contentUploadEqualSignWarning'>Filenames cannot contain the equal sign (=).</div>
                        </div>
                      </div>
                    </div>
                    <div class="tab-pane fade" id="componentInfoModalMaintenanceTab" role="tabpanel" aria-labelledby="componentInfoModalMaintenanceTabButton">
                      <div class="row mt-3">
                        <div class='col-12 col-md-6'>
                          <a id='AnyDeskButton' href="" class='btn btn-primary d-sm-none d-none d-md-inline'>Anydesk</a>
                          <a id='AnyDeskLabel' href="" class='btn btn-primary d-sm-inline d-md-none'>Anydesk</a>
                          <div class="form-group mt-2">
                            <label for="componentInfoModalMaintenanceStatusSelector">Maintenance status</label>
                            <select class="form-control" id="componentInfoModalMaintenanceStatusSelector" onchange="$('#componentInfoModalMaintenanceSaveButton').show()">
                              <option>On floor, working</option>
                              <option>On floor, not working</option>
                              <option>Off floor, working</option>
                              <option>Off floor, not working</option>
                            </select>
                          </div>
                        </div>
                        <div class='col-12'>
                          <div class="form-group">
                            <label for="componentInfoModalMaintenanceNote">Notes</label>
                            <textarea class="form-control" id="componentInfoModalMaintenanceNote" rows="3" oninput="$('#componentInfoModalMaintenanceSaveButton').show()"></textarea>
                          </div>
                        </div>
                        <div class='col-12 mt-2'>
                          <button id='componentInfoModalMaintenanceSaveButton' class='btn btn-primary' onclick="submitComponentMaintenanceStatusChange(type='component')">Save changes</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">

                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                </div>
              </div>
            </div>
          </div>

          <div class="modal" tabindex="-1" role="dialog" id="fileDeleteModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content" style="border:black 1px solid;">
                <div class="modal-header">
                  <h4 class="modal-title" id="fileDeleteModalTitle">Are you sure?</h4>
                </div>
                <div class="modal-body">
                  <div class="row">
                    <div class="col-auto" id="fileDeleteModalText"></div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-danger" id="fileDeleteConfirmationButton">Delete File</button>
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                </div>
              </div>
            </div>
          </div>

          <div class="modal" tabindex="-1" role="dialog" id="projectorInfoModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header w-100">
                  <div class='row modal-title align-items-middle w-100'>
                    <div class='col-8'>
                      <h4 id="projectorInfoModalTitle"></h4>
                    </div>
                    <div class='col-4'>
                      <div id="projectorInfoModalIPAddress" align="right"></div>
                    </div>
                    <div class="col-12">
                      <div id="projectorInfoModalDescription"></div>
                    </div>
                  </div>
                </div>
                <div class="modal-body">
                  <table class="table table-striped">
                    <tbody>
                      <tr>
                        <th scope="row">Power state</th>
                        <td><div id="projectorInfoPowerState"></div></td>
                      </tr>
                      <tr>
                        <th scope="row">Lamp hours</th>
                        <td><div id="projectorInfoLampHours"></div></td>
                      </tr>
                      <tr>
                        <th scope="row">Lamp state</th>
                        <td><div id="projectorInfoLampState"></div></td>
                      </tr>
                      <tr>
                        <th scope="row">Fan state</th>
                        <td><div id="projectorInfoFanState"></div></td>
                      </tr>
                      <tr>
                        <th scope="row">Temperature state</th>
                        <td><div id="projectorInfoTempState"></div></td>
                      </tr>
                      <tr>
                        <th scope="row">Filter state</th>
                        <td><div id="projectorInfoFilterState"></div></td>
                      </tr>
                      <tr>
                        <th scope="row">Cover state</th>
                        <td><div id="projectorInfoCoverState"></div></td>
                      </tr>
                      <tr>
                        <th scope="row">Other</th>
                        <td><div id="projectorInfoOtherState"></div></td>
                      </tr>
                      <tr>
                        <th scope="row">Model</th>
                        <td><div id="projectorInfoModel"></div></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>

          <div class="row" id="errorDisplayRow">
          </div>
          <div class="row" id="componentGroupsRow">
          </div>
        </div>

        <div class="tab-pane fade" id="nav-schedule" role="tabpanel" aria-labelledby="nav-schedule-tab">

          <div class="modal" tabindex="-1" role="dialog" id="scheduleEditModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 id="scheduleEditModalTitle" class="modal-title">Edit action</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <div id="scheduleEditScopeAlert" class="alert bg-info text-light">This change will affect all Wednesdays</div>
                  <form id="scheduleEditForm" onsubmit="event.preventDefault();">
                    <div class="form-group">
                      <div class="row">
                        <div class="col-4">
                          <label for="scheduleActionTimeInput">Time</label>
                          <input type="text" class="form-control" id="scheduleActionTimeInput" placeholder="e.g., 9:30 AM">
                        </div>
                        <div class="col-4">
                          <label for="scheduleActionSelector">Action</label>
                          <select class="form-control" id="scheduleActionSelector" onchange="toggleScheduleActionTargetSelector()">
                            <option value="power_on">Power on</option>
                            <option value="power_off">Power off</option>
                            <option value="refresh_page">Refresh components</option>
                            <option value="restart">Restart components</option>
                            <option value="set_exhibit">Set exhibit</option>
                          </select>
                        </div>
                        <div class="col-4">
                          <label id="scheduleTargetSelectorLabel" for="scheduleTargetSelector">Target</label>
                          <select class="form-control" id="scheduleTargetSelector">
                          </select>
                        </div>
                      </div>
                    </div>
                  </form>
                  <div id="scheduleEditErrorAlert" class="alert bg-danger text-light w-100" style="display: none;"></div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-danger" mr-auto onclick="scheduleDeleteActionFromModal()" id="scheduleEditDeleteActionButton">Delete action</button>
                  <button type="button" class="btn btn-primary ml-auto" onclick="sendScheduleUpdateFromModal()" id="scheduleEditSubmitButton">Save changes</button>
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                </div>
              </div>
            </div>
          </div>

          <div class="row mt-4">
            <div class='col-12'>
              <h4><b>Next scheduled action: </b><span id="Schedule_next_event"></span></h4>
            </div>
            <div class='col-12 col-sm-6 col-md-4 col-lg-3 col-md-2 mb-2'>
              <button id='refreshScheduleButton' class='btn btn-primary w-100' onclick='askForScheduleRefresh()'>Refresh schedule</button>
            </div>
            <div id='dateSpecificScheduleAlert' class="col-12 col-sm-auto alert schedule-date-specific my-auto" role="alert">
              Date-specific schedule
            </div>
          </div>

          <div id='scheduleContainer' class='row mt-2'>
          </div>
        </div>

        <div class="tab-pane fade" id="nav-issues" role="tabpanel" aria-labelledby="nav-issues-tab">

          <div class="modal" tabindex="-1" role="dialog" id="issueEditModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 id="issueEditModalTitle" class="modal-title">Create Issue</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <form id="scheduleEditForm" onsubmit="event.preventDefault();">
                    <div class="form-group">
                      <div class="row">
                        <div class="col-8">
                          <label for="issueTitleInput">Title</label>
                          <input type="text" class="form-control" id="issueTitleInput" placeholder="e.g., Fix button">
                        </div>
                        <div class="col-4">
                          <label for="issuePrioritySelector">Priority</label>
                          <select class="form-control" id="issuePrioritySelector">
                            <option value='low'>Low</option>
                            <option value='medium'>Medium</option>
                            <option value='high'>High</option>
                          </select>
                        </div>
                        <div class="col-12 mt-2">
                          <label for="issueDescriptionInput">Description</label>
                          <textarea class="form-control" id="issueDescriptionInput" placeholder="e.g., The red button is loose."></textarea>
                        </div>
                        <div class="col-6 mt-2">
                          <label for="issueRelatedComponentsSelector">Related components</label>
                          <select class="form-control" id="issueRelatedComponentsSelector" multiple>
                          </select>
                        </div>
                        <div class="col-6 mt-2">
                          <label for="issueAssignedToSelector">Assigned to</label>
                          <select class="form-control" id="issueAssignedToSelector" multiple>
                          </select>
                        </div>
                      </div>
                    </div>
                  </form>
                <div class="modal-footer">
                  <button type="button" class="btn btn-primary ml-auto" onclick="submitIssueFromModal()" id="issueEditSubmitButton">Save changes</button>
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                </div>
              </div>
            </div>
          </div>
          </div>

          <div id='issueTabButtons' class='row mt-4'>
            <div class='col-12'>
              <button class='btn btn-primary' onclick='showIssueEditModal("new")'>Create issue</button>
            </div>
            <div class='col-12'>
              <div id='issuesRow' class='row mt-3'></div>
            </div>
          </div>
          <div class='row mt-4'>
            <div class='col-12'>
              <H3>Maintenance overview</H3>
              <button class='btn btn-primary' onclick="refreshMaintenanceRecords()">Refresh</button>
            </div>
            <div class='col-12 col-md-6'>
              <div class='col-12 mt-3 pb-3 pt-3' style="background-color: #b4ffb3;">
                <H4>On the floor and working</H4>
                <div id='MaintenanceOverviewOnFloorWorkingPane' class='row'>
                </div>
              </div>
            </div>
            <div class='col-12 col-md-6'>
              <div class='col-12 mt-3 pb-3 pt-3' style="background-color: #fab8af;">
                <H4>On the floor and not working</H4>
                <div id='MaintenanceOverviewOnFloorNotWorkingPane' class='row'>
                </div>
              </div>
            </div>
            <div class='col-12 col-md-6'>
              <div class='col-12 mt-3 pb-3 pt-3' style="background-color: #b1ddfc;">
                <H4>Off the floor and working</H4>
                <div id='MaintenanceOverviewOffFloorWorkingPane' class='row'>
                </div>
              </div>
            </div>
            <div class='col-12 col-md-6'>
              <div class='col-12 mt-3 pb-3 pt-3' style="background-color: #fcdba9;">
                <H4>Off the floor and not working</H4>
                <div id='MaintenanceOverviewOffFloorNotWorkingPane' class='row'>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="tab-pane fade" id="nav-settings" role="tabpanel" aria-labelledby="nav-settings-tab">

          <div class="modal" tabindex="-1" role="dialog" id="changeExhibitModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Are you sure?</h5>
                </div>
                <div class="modal-body">
                  Changing the exhibit will be immediately visible to guests and the changing process may be unsightly for up to a minute.
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-danger" onclick="changeExhibit(true)" id="exhibitChangeConfirmationButton">Change exhibit</button>
                  <button type="button" class="btn btn-success" data-dismiss="modal">Cancel</button>
                </div>
              </div>
            </div>
          </div>

          <div class="modal" tabindex="-1" role="dialog" id="deleteExhibitModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Are you sure?</h5>
                </div>
                <div class="modal-body">
                  Deleting an exhibit cannot be undone.
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-danger" onclick="deleteExhibitFromModal()">Delete exhibit</button>
                  <button type="button" class="btn btn-success" data-dismiss="modal">Cancel</button>
                </div>
              </div>
            </div>
          </div>

          <H3 class='mt-4'>Exhibits</H3>
          <div class="row mt-3">
            <div class="col-6 col-md-3 col-lg-2">
              <button type="button" class="btn btn-primary" id="reloadConfigurationButton" onclick="reloadConfiguration()">Reload Config</button>
            </div>
            <div class="col-6 col-md-4 col-lg-3">
              <div class="form-group">
                <label for="exhibitSelect">Set current exhibit</label>
                <select class="form-control" id="exhibitSelect" onchange="changeExhibit(false)"></select>
              </div>
            </div>
            <div class="col-12 col-md-8">
              <div class="form-group">
                <label for="createExhibitNameInput">Create new exhibit</label>
                <div class='row'>
                  <div class='col-12 col-lg-5 pr-1 mt-1'>
                    <input type="text" id='createExhibitNameInput' class='form-control' placeholder="Enter exhibit name"></input>
                  </div>
                  <div class='col-6 col-lg-3 mt-1'>
                    <button id="createExhibitButton" class='btn btn-primary w-100'>Create Empty</button>
                  </div>
                  <div id="cloneExhibitButton" class='col-6 col-lg-3 mt-1'>
                    <button class='btn btn-primary w-100'>Clone Current</button>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-12 col-sm-6 col-md-4">
              <div class="form-group">
                  <label for="exhibitDeleteSelector">Delete exhibit</label>
                <div class="row">
                  <div class='col-7'>
                    <select class="form-control text-danger w-100" id="exhibitDeleteSelector" onchange="checkDeleteSelection()"></select>
                  </div>
                  <div class='col-5'>
                    <button class='btn btn-danger w-100' id="exhibitDeleteSelectorButton" onclick="showExhibitDeleteModal()">Delete</button>
                  </div>
                  <div class='col-12 mt-1'>
                    <span class='text-danger' id="exhibitDeleteSelectorWarning">Cannot delete current exhibit</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <H3 class='mt-2'>Flexible Tracker</H3>
          <i>Coming soon! For now, you may edit tracker templates directly on the server.</i>
          <div class="row mt-3">
            <div class='col-12 col-md-5 col-lg-4 col-xl-3'>
              <input type="text" id='createExhibitNameInput' class='form-control' placeholder="Enter template name"></input>
            </div>
            <div class="col-12 col-md-3 col-lg-3 col-xl-2">
              <button class='btn btn-primary w-100'>Create template</button>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-12 col-md-3 col-lg-3 col-xl-2">
              <button class='btn btn-primary w-100' onclick="getAvailableDefinitions(populateTrackerTemplateSelect)">Refresh templates</button>
            </div>
            <div class="col-6 col-md-3">
              <select id="trackerTemplateSelect" class="form-control"></select>
            </div>
            <div class="col-6 col-md-3 col-lg-3 col-xl-2">
              <button class='btn btn-primary w-100'>Download data</button>
            </div>
            <div class="col-6 col-md-3 col-lg-3 col-xl-2">
              <button class='btn btn-info w-100'>Edit template</button>
            </div>
            <div class="col-6 col-md-3 col-lg-3 col-xl-2">
              <button class='btn btn-danger w-100'>Delete template</button>
            </div>
          </div>
        </div>

        <div class="tab-pane fade" id="nav-help" role="tabpanel" aria-labelledby="nav-help-tab">
          <div class="row mt-4">
            <div id='helpTextDiv' class='col-auto'>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script type="text/javascript" src="js/jquery-3.5.1.slim.min.js"></script>
    <script type="text/javascript" src="js/popper.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/showdown.min.js"></script>

    <script type="text/javascript" src="webpage.js"></script>
    <script type="text/javascript" src="tracker_tools.js"></script>

    <script>
      var serverIP = INSERT_SERVERIP_HERE // This will be automatically inserted by the server before being sent to the client
      var currentExhibit = "";
      var exhibitComponents = [];
      var componentGroups = [];
      var errorDict = {}; // Will hold errors to display
      var markdownConverter = new showdown.Converter();
      markdownConverter.setFlavor('github');
      var scheduleUpdateTime = 0;
      var serverSoftwareUpdateAvailable = false;
      var issueList = [];
      var assignableStaff = [];

      // Bind some event listeners
      $("#createExhibitButton").click(function(){
        createExhibit($("#createExhibitNameInput").val(), null);
        $("#createExhibitNameInput").val("");
      });
      $("#cloneExhibitButton").click(function(){
        createExhibit($("#createExhibitNameInput").val(), $("#exhibitSelect").val());
        $("#createExhibitNameInput").val("");
      });

      askForUpdate();
      setInterval(askForUpdate, 5000);
      populateHelpTab();
      refreshMaintenanceRecords();
      parseQueryString();
    </script>

  </body>
</html>
