<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="A system for controling exhibit components">
    <meta name="author" content="Morgan Rehnberg">

    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="icon/green.ico">

    <link rel="stylesheet" href="css/bootstrap_5_3/bootstrap.min.css">
    <link rel="stylesheet" href="css/webpage.css">

    <title></title>

  </head>

  <body>

    <main role="main" class="container mb-4 pt-1 pt-md-2 px-md-5">

      <!-- What's new modal -->
      <div class="modal" tabindex="-1" role="dialog" id="whatsNewModal">
        <div class="modal-dialog modal-dialog-centered exhibitera-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Welcome to Constellation 5</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
          </div>
        </div>
      </div>

      <!-- Password change modal -->
      <div class="modal" tabindex="-1" role="dialog" id="passwordChangeModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Change your password</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <p class="fst-italic">Use the fields below to change you password. If you don't know your current password, your administrator can set a temporary password for you.</p>
              
              <label class="form-label mt-2" for="passwordChangeModalCurrentPassword">Current password</label>
              <input class="form-control editUserField" type="password" id="passwordChangeModalCurrentPassword">
              
              <label class="form-label mt-2" for="passwordChangeModalNewPassword1">New password</label>
              <input class="form-control editUserField" type="password" id="passwordChangeModalNewPassword1" autocomplete="new-password">

              <label class="form-label mt-2" for="passwordChangeModalNewPassword2">Confirm new password</label>
              <input class="form-control editUserField" type="password" id="passwordChangeModalNewPassword2" autocomplete="new-password">

              <div class="text-danger mt-3">
                <div id="passwordChangeModalNoCurrentPassWarning">You must enter your current password.</div>
                <div id="passwordChangeModalBadCurrentPassWarning">The current password was incorrect.</div>
                <div id="passwordChangeModalNoBlankPassWarning">The password cannot be blank.</div>
                <div id="passwordChangeModalPassMismatchWarning">The new passwords do not match.</div>
              </div>
            </div>
            <div class="modal-footer">
              <button id="passwordChangeModalSubmitButton" type="button" class="btn btn-primary">Change</button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
          </div>
        </div>
      </div>

      <!-- Edit user modal -->
      <div class="modal" tabindex="-1" role="dialog" id="editUserModal">
        <div class="modal-dialog modal-dialog-centered exhibitera-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 id="editUserModalTitle" class="modal-title">Create a user</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div class="row">
                <div class="col-4">
                  <label class="form-label" for="editUserUsernameInput">Username</label>
                  <input class="form-control editUserField" id="editUserUsernameInput" type="text" placeholder="jsmith" autocomplete="off">
                  <label class="form-label mt-2" for="editUserDisplayNameInput">Display name</label>
                  <input class="form-control editUserField" id="editUserDisplayNameInput" type="text" placeholder="Jane Smith" autocomplete="off">
                  <label class="form-label mt-2" for="editUserPassword1Input">Password</label>
                  <input class="form-control editUserField" type="password" id="editUserPassword1Input" autocomplete="new-password">
  
                  <label class="form-label mt-2" for="editUserPassword2Input">Confirm password</label>
                  <input class="form-control editUserField" type="password" id="editUserPassword2Input" autocomplete="new-password">
                </div>
                <div class="col-8">
                  <h4>Permissions</h4>
                  <div class="row row-cols-3 gy-2">
                    <!-- Analytics permission -->
                    <div class="col d-flex flex-column justify-content-end">
                      <label class="form-label" for="editUserPermissionAnalytics">
                        Analytics
                        <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Access to analytics data and Flexible Tracker." style="font-size: 0.55em; color: black">?</span>
                      </label>
                      <select id="editUserPermissionAnalytics" class="form-select editUserField">
                        <option value="none">None</option>
                        <option value="view">View</option>
                        <option value="edit">Edit</option>
                      </select>
                    </div>
                    <!-- Exhibits permission -->
                    <div class="col d-flex flex-column justify-content-end">
                      <label class="form-label" for="editUserPermissionExhibits">
                        Exhibits
                        <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Create, edit, and switch exhibits." style="font-size: 0.55em; color: black">?</span>
                      </label>
                      <select id="editUserPermissionExhibits" class="form-select editUserField">
                        <option value="none">None</option>
                        <option value="view">View</option>
                        <option value="edit">Edit</option>
                      </select>
                    </div>
                    <!-- Maintenance permission -->
                    <div class="col d-flex flex-column justify-content-end">
                      <label class="form-label" for="editUserPermissionMaintenance">
                        Maintenance
                        <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Create, view, and modify issues and change maintenance status." style="font-size: 0.55em; color: black">?</span>
                      </label>
                      <select id="editUserPermissionMaintenance" class="form-select editUserField">
                        <option value="none">None</option>
                        <option value="view">View</option>
                        <option value="edit">Edit</option>
                      </select>
                    </div>
                    <!-- Schedule permission -->
                    <div class="col d-flex flex-column justify-content-end">
                      <label class="form-label" for="editUserPermissionSchedule">
                        Schedule
                        <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="View or modify the schedule." style="font-size: 0.55em; color: black">?</span>
                      </label>
                      <select id="editUserPermissionSchedule" class="form-select editUserField">
                        <option value="none">None</option>
                        <option value="view">View</option>
                        <option value="edit">Edit</option>
                      </select>
                    </div>
                    <!-- Settings permission -->
                    <div class="col d-flex flex-column justify-content-end">
                      <label class="form-label" for="editUserPermissionSettings">
                        Settings
                        <span class="badge bg-danger ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Change fundamental Control Server settings, such as IP address or port." style="font-size: 0.55em; color: black">?</span>
                      </label>
                      <select id="editUserPermissionSettings" class="form-select editUserField">
                        <option value="none">None</option>
                        <option value="view">View</option>
                        <option value="edit">Edit</option>
                      </select>
                    </div>
                    <!-- Users permission -->
                    <div class="col d-flex flex-column justify-content-end">
                      <label class="form-label" for="editUserPermissionUsers">
                        Users
                        <span class="badge bg-danger ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Create, view, edit, or delete other users' accounts." style="font-size: 0.55em; color: black">?</span>
                      </label>
                      <select id="editUserPermissionUsers" class="form-select editUserField">
                        <option value="none">None</option>
                        <option value="view">View</option>
                        <option value="edit">Edit</option>
                      </select>
                    </div>
                  </div>    
                  <div class="row mt-2">
                    <div class="col-12">
                      <label class="form-label" for="editUserPermissionGroups">
                        Component groups
                        <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="View or modify components in the given group." style="font-size: 0.55em; color: black">?</span>
                      </label>
                      <div class="row">
                        <div class="col-4">
                          <select id="editUserPermissionGroups" class="form-select editUserField">
                            <option value="none">None</option>
                            <option value="view">View all</option>
                            <option value="edit_content">Edit all (content & definitions only)</option>
                            <option value="edit">Edit all (content, definitions, & settings)</option>
                            <option value="custom">Custom</option>
                          </select>
                        </div>
                      </div>
                      <div class="row row-cols-3 gy-2 mt-2" id="editUserGroupsRow"></div>
                    </div>
                  </div>            
                </div>
              </div>
              <div class="row mt-2">
                <div id="editUserBlankUsername" class="col-12 text-danger">
                  Username may not be blank.
                </div>
                <div id="editUserBlankDisplayname" class="col-12 text-danger">
                  Display name may not be blank.
                </div>
                <div id="editUserPasswordMismatch" class="col-12 text-danger">
                  Passwords do not match
                </div>
                <div id="editUserBlankPassword" class="col-12 text-danger">
                  Password may not be blank.
                </div>
                <div id="editUserUsernameExists" class="col-12 text-danger">
                  This username already exists.
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button id="editUserSubmitButton" type="button" class="btn btn-primary">Save</button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
          </div>
        </div>
      </div>

      <!-- Edit group modal -->
      <div class="modal" tabindex="-1" role="dialog" id="editGroupModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 id="editGroupModalTitle" class="modal-title">Create a group</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div class="row gy-2">
                <div class="col-6">
                  <label for="editGroupModalNameInput" class="form-label">Group name</label>
                  <input id="editGroupModalNameInput" class="form-control" type="text">
                </div>
                <div class="col-12">
                  <label for="editGroupModalDescriptionInput" class="form-label">
                    Description
                    <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Descriptions help others understand what this group should contain." style="font-size: 0.55em; color: black">?</span>
                  </label>
                  <input id="editGroupModalDescriptionInput" class="form-control" type="text">
                </div>
                <div id="editGroupModalNameWarning" class="col-12">
                  <div class="alert alert-danger py-2">The group must have a name.</span>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button id="editGroupModalSubmitButton" type="button" class="btn btn-primary">Add</button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
          </div>
        </div>
      </div>

      <!-- Component info modal -->
      <div class="modal" tabindex="-1" role="dialog" id="componentInfoModal">
        <div class="modal-dialog modal-dialog-centered exhibitera-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header w-100 pe-0">
              <div class='row modal-title align-items-middle w-100'>
                <div class='col-8'>
                  <h4 id="componentInfoModalTitle" style="word-break: break-all;"></h4>
                </div>
                <div class='col-4 pe-0'>
                  <div class="dropdown float-end">
                    <button class="btn btn-sm btn-info dropdown-toggle" type="button" id="exhibiteraComponentIdButton" data-bs-toggle="dropdown" aria-expanded="false">
                      Voting Kiosk
                    </button>
                    <div class="dropdown-menu" aria-labelledby="exhibiteraComponentIdButton">
                      <div id="componentInfoModalModelGroup">
                        <span class="dropdown-header ps-3 pb-0">Model</span>
                        <span id="componentInfoModalModel" class="dropdown-item-text ps-3"></span>
                      </div>
                      <div id="componentInfoModalIPAddressGroup">
                        <span class="dropdown-header ps-3 pb-0">IP address</span>
                        <span id="componentInfoModalIPAddress" class="dropdown-item-text ps-3"></span>
                      </div>
                      <div id="componentInfoModalProtocolGroup">
                        <span class="dropdown-header ps-3 pb-0">Protocol</span>
                        <span id="componentInfoModalProtocol" class="dropdown-item-text ps-3"></span>
                      </div>
                      <div id="componentInfoModalHelperIPAddressGroup">
                        <span class="dropdown-header ps-3 pb-0">Helper IP address</span>
                        <span id="componentInfoModalHelperIPAddress" class="dropdown-item-text ps-3"></span>
                      </div>
                      <div id="componentInfoModalOperatingSystemGroup">
                        <span class="dropdown-header ps-3 pb-0">Operating system</span>
                        <span id="componentInfoModalOperatingSystem" class="dropdown-item-text ps-3"></span>
                      </div>
                      <div id="componentInfoModalBrowserGroup">
                        <span class="dropdown-header ps-3 pb-0">Browser</span>
                        <span id="componentInfoModalBrowser" class="dropdown-item-text ps-3"></span>
                      </div>
                      <div id="componentInfoModalLatencyGroup">
                        <span class="dropdown-header ps-3 pb-0">Latency</span>
                        <span id="componentInfoModalLatency" class="dropdown-item-text ps-3"></span>
                      </div>
                      <div id="componentInfoModalLastContactGroup">
                        <span class="dropdown-header ps-3 pb-0">Last contact</span>
                        <span id="componentInfoModalLastContact" class="dropdown-item-text ps-3"></span>
                      </div>
                      <div id="componentInfoModalRemoveButtonGroup" class="mx-3 py-2">
                        <button id="componentInfoModalRemoveComponentButton" class="btn btn-danger btn-sm  w-100 handCursor">Remove</button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-12">
                  <div id="componentInfoModalDescription">This is the description</div>
                </div>
              </div>
            </div>
            <div class="modal-body ">

              <!-- Status messages -->
              <div class="row">
                <div id="componentInfoStatusMessage" class='col-8 offset-2 text-center h4'>
                </div>
              </div>

              <!-- Tab buttons -->
              <ul class="nav nav-tabs" id="componentInfoModalTabList" role="tablist">
                <li class="nav-item">
                  <a class="nav-link active px-3 px-sm-4" id="componentInfoModalDefinitionsTabButton" data-bs-toggle="tab" href="#componentInfoModalDefinitionsTab" role="tab" aria-controls="Definitions" aria-selected="true">Definitions</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link px-3 px-sm-4" id="componentInfoModalDMXTabButton" data-bs-toggle="tab" href="#componentInfoModalDMXTab" role="tab" aria-controls="DMX" aria-selected="false">DMX</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link px-3 px-sm-4" id="componentInfoModaProejctorTabButton" data-bs-toggle="tab" href="#componentInfoModaProejctorTab" role="tab" aria-controls="Status" aria-selected="false">Status</a>
                </li>
                <li class="nav-item d-none d-sm-block">
                  <a class="nav-link px-3 px-sm-4" id="componentInfoModalMaintenanceTabButton" data-bs-toggle="tab" href="#componentInfoModalMaintenanceTab" role="tab" aria-controls="Maintenance" aria-selected="false">Maintenance</a>
                </li>
                <li class="nav-item d-none d-sm-block">
                  <a class="nav-link px-3 px-sm-4" id="componentInfoModalSettingsTabButton" data-bs-toggle="tab" href="#componentInfoModalSettingsTab" role="tab" aria-controls="Settings" aria-selected="false">Settings</a>
                </li>

                <!-- Overflow buttons -->
                <li class="nav-item dropdown d-block d-sm-none">
                  <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">More</a>
                  <div class="dropdown-menu">
                    <a class="nav-link px-3 px-sm-4" id="componentInfoModalMaintenanceTabDropdownButton" data-bs-toggle="tab" href="#componentInfoModalMaintenanceTab" role="tab" aria-controls="Maintenance" aria-selected="false">Maintenance</a>
                    <a class="nav-link px-3 px-sm-4" id="componentInfoModalSettingsTabDropdownButton" data-bs-toggle="tab" href="#componentInfoModalSettingsTab" role="tab" aria-controls="Settings" aria-selected="false">Settings</a>

                  </div>
                </li>
              </ul>

              <div class="tab-content" id="componentInfoModalTabContainer">
                <!-- Definition pane -->
                <div class="tab-pane fade show active" id="componentInfoModalDefinitionsTab" role="tabpanel" aria-labelledby="componentInfoModalDefinitionsTabButton">
                  <div class="row mx-1 my-2">
                    <div class="col-4 col-sm-3">
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="definitionTabThumbnailsCheckbox" checked>
                        <label class="form-check-label" for="definitionTabThumbnailsCheckbox">
                          Thumbnails
                        </label>
                      </div>
                    </div>
                    <div class="col-4 col-sm-3">
                      <div class="form-group">
                        <select class="form-select form-select-sm" value="all" id="definitionTabAppFilterSelect">
                          <option value="all">All</option>
                          <option value="infostation">Infostation</option>
                          <option value="media_browser">Media Browser</option>
                          <option value="media_player">Media Player</option>
                          <option value="timelapse_viewer">Timelapse Viewer</option>
                          <option value="timeline_explorer">Timeline Explorer</option>
                          <option value="voting_kiosk">Voting Kiosk</option>
                          <option value="word_cloud_input">Word Cloud Input</option>
                          <option value="word_cloud_viewer">Word Cloud Viewer</option>
                        </select>
                        <label class="form-check-label visually-hidden" for="definitionTabAppFilterSelect">
                          Filter by app
                        </label>
                      </div>
                    </div>
                    <div class="col-4 col-sm-3 offset-sm-3 col-md-2 offset-md-4">
                      <div class="dropdown">
                        <button class="btn btn-primary btn-sm w-100 dropdown-toggle" type="button" id="componentInfoModalNewDefinitionButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          New
                        </button>
                        <div class="dropdown-menu" aria-labelledby="componentInfoModalNewDefinitionButton">
                          <a class="dropdown-item defintion-new-option" href="#" data-app="InfoStation" target="_blank">Infostation</a>
                          <a class="dropdown-item defintion-new-option" href="#" data-app="media_browser" target="_blank">Media Browser</a>
                          <a class="dropdown-item defintion-new-option" href="#" data-app="media_player" target="_blank">Media Player</a>
                          <a class="dropdown-item defintion-new-option" href="#" data-app="timelapse_viewer" target="_blank">Timelapse Viewer</a>
                          <a class="dropdown-item defintion-new-option" href="#" data-app="timeline_explorer" target="_blank">Timeline Explorer</a>
                          <a class="dropdown-item defintion-new-option" href="#" data-app="voting_kiosk" target="_blank">Voting Kiosk</a>
                          <a class="dropdown-item defintion-new-option" href="#" data-app="word_cloud_input" target="_blank">Word Cloud Input</a>
                          <a class="dropdown-item defintion-new-option" href="#" data-app="word_cloud_viewer" target="_blank">Word Cloud Viewer</a>
                          <a class="dropdown-item defintion-new-option" href="#" data-app="other" target="_blank">Other</a>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div id="componentInfoModalDefinitionList" class="row mx-1">
                  </div>
                </div>
                <!-- DMX page -->
                <div class="tab-pane fade" id="componentInfoModalDMXTab" role="tabpanel" aria-labelledby="componentInfoModalDMXTabButton">
                  <div class="row mt-3">
                    <div class="col-9">
                      <div class="mt-2">Click on a scene below to immediately show it.</div>
                    </div>
                    <div class="col-3 pe-2">
                      <button id="componentInfoModalEditDMXButton" class="btn btn-primary w-100">Edit DMX config</button>
                    </div>
                    <div class="col-12">
                      <div  id="componentInfoModalDMXSceneList" class="row"></div>
                    </div>
                  </div>
                </div>

                <!-- Projector status pane -->
                <div class="tab-pane fade" id="componentInfoModaProejctorTab" role="tabpanel" aria-labelledby="componentInfoModaProejctorTabButton">
                  <div class="row mt-3">
                    <div class="col-12">
                      <div id="componentInfoModalProjectorLampList" class="row mx-0">
                      </div>
                    </div>
                    <div class="col-12">
                      <table id="projectorStatusDetailTable" class="table table-striped">
                        <tbody>
                          <tr>
                            <th scope="row">Power state</th>
                            <td><div id="projectorInfoPowerState"></div></td>
                          </tr>
                          <tr>
                            <th scope="row">Lamp state</th>
                            <td><div id="projectorInfoLampState"></div></td>
                          </tr>
                          <tr>
                            <th scope="row">Fan state</th>
                            <td><div id="projectorInfoFanState"></div></td>
                          </tr>
                          <tr>
                            <th scope="row">Temperature state</th>
                            <td><div id="projectorInfoTempState"></div></td>
                          </tr>
                          <tr>
                            <th scope="row">Filter state</th>
                            <td><div id="projectorInfoFilterState"></div></td>
                          </tr>
                          <tr>
                            <th scope="row">Cover state</th>
                            <td><div id="projectorInfoCoverState"></div></td>
                          </tr>
                          <tr>
                            <th scope="row">Other</th>
                            <td><div id="projectorInfoOtherState"></div></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  
                </div>

                <!-- Maintenance pane -->
                <div class="tab-pane fade" id="componentInfoModalMaintenanceTab" role="tabpanel" aria-labelledby="componentInfoModalMaintenanceTabButton">
                  <div class='row align-items-end my-3 pb-3 border-bottom' id="contentUploadSystemStatsView">
                    <div class='col-4'>
                      <strong id="contentUploadDiskSpaceFree"></strong>
                      <div class="progress" style="height: 20px;">
                        <div id="contentUploadDiskSpaceUsedBar" class="progress-bar bg-success" role="progressbar" style="width: 70%;" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                        <div id="contentUploadDiskSpaceFreeBar" class="progress-bar bg-secondary" role="progressbar" style="width: 30%;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
    
                    <div class='col-4'>
                      <strong id="contentUploadCPUUsed"></strong>
                      <div class="progress" style="height: 20px;">
                        <div id="contentUploadCPUUsedBar" class="progress-bar bg-success" role="progressbar" style="width: 70%;" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                        <div id="contentUploadCPUFreeBar"class="progress-bar bg-secondary" role="progressbar" style="width: 30%;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
    
                    <div class='col-4'>
                      <strong id="contentUploadRAMUsed"></strong>
                      <div class="progress" style="height: 20px;">
                        <div id="contentUploadRAMUsedBar" class="progress-bar bg-success" role="progressbar" style="width: 60%;" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                        <div id="contentUploadRAMFreeBar" class="progress-bar bg-secondary" role="progressbar" style="width: 40%;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                  </div>
                  <div class="row mt-3">
                    <div class="col-12 col-md-6">
                      <div class="row gy-2">
                        <div class='col-12'>
                          <div class="form-group mt-2">
                            <label for="componentInfoModalMaintenanceStatusSelector">Maintenance status</label>
                            <select class="form-select" id="componentInfoModalMaintenanceStatusSelector">
                              <option>On floor, working</option>
                              <option>On floor, not working</option>
                              <option>Off floor, working</option>
                              <option>Off floor, not working</option>
                            </select>
                          </div>
                        </div>
                        <div class='col-12'>
                          <label>Maintenance history</label>
                          <div class="progress" style="height: 35px;">
                            <div id="maintenanceHistoryWorkingBar" class="progress-bar bg-success" role="progressbar" style="width: 80%;" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100">Working</div>
                            <div id="maintenanceHistoryNotWorkingBar" class="progress-bar bg-danger" role="progressbar" style="width: 20%;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">Not working</div>
                          </div>
                        </div>
                        <div class='col-12 mt-2'>
                          <div class="form-group">
                            <label for="componentInfoModalMaintenanceNote">Notes</label>
                            <textarea class="form-control" id="componentInfoModalMaintenanceNote" rows="3"></textarea>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-12 col-md-6">
                      <label>Related issues</label>
                      <div id="componentInfoModalMaintenanceRelatedIssues" class="row row-cols-1 gy-2"></div>
                    </div>
                    <div class='col-12 mt-2'>
                      <button id='componentInfoModalMaintenanceSaveButton' class='btn btn-primary'>Save changes</button>
                    </div>
                  </div>
                </div>
                <div class="tab-pane fade" id="componentInfoModalSettingsTab" role="tabpanel" aria-labelledby="componentInfoModalSettingsTabButton">
                  <div class="d-flex flex-column" style="height: 52vh">
                  <!-- Exhibit component settings -->
                    <div id="componentInfoModalSettingsPermissionsPane" class="mt-2">
                      <div class="row gy-2">
                        <div class="col-4">
                          <div class="row gy-2 row-cols-1">
                            <div class="col">
                              <label for="componentInfoModalBasicSettingsID" class="form-label">
                                ID
                                <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Every Constellation component must have a unique ID." style="font-size: 0.55em; color: black">?</span>
                              </label>
                              <input id="componentInfoModalBasicSettingsID" class="form-control componentInfoBasicSetting" type="text">
                            </div>
                            <div class="col">
                              <label for="componentInfoModalBasicSettingsGroup" class="form-label">Groups</label>
                              <select id="componentInfoModalBasicSettingsGroup" class="form-control componentInfoBasicSetting" multiple></select>
                            </div>
                          </div>
                        </div>
                        <div class="col-8">
                          <div class="row row-cols-2 row-cols-sm-3 gy-2">
                            <!-- Audio permission -->
                            <div class="col">
                              <label for="componentInfoModalSettingsAutoplayAudio" class="form-label">
                                Audio
                                <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Allow Control Server to toggle audio auto-play." style="font-size: 0.55em; color: black">?</span>
                              </label>
                              <select class="form-select componentInfoSetting" id="componentInfoModalSettingsAutoplayAudio">
                                <option value="true">Allow</option>
                                <option value="false">Disallow</option>
                              </select>
                            </div>
                            <!-- Refresh permission -->
                            <div class="col">
                              <label for="componentInfoModalSettingsAllowRefresh" class="form-label">
                                Refresh
                                <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Allow Control Server to reload the app view." style="font-size: 0.55em; color: black">?</span>
                              </label>
                              <select class="form-select componentInfoSetting" id="componentInfoModalSettingsAllowRefresh">
                                <option value="true">Allow</option>
                                <option value="false">Disallow</option>
                              </select>
                            </div>
                            <!-- Restart permission -->
                            <div class="col">
                              <label for="componentInfoModalSettingsAllowRestart" class="form-label">
                                Restart
                                <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Allow Control Server to restart the PC." style="font-size: 0.55em; color: black">?</span>
                              </label>
                              <select class="form-select componentInfoSetting" id="componentInfoModalSettingsAllowRestart">
                                <option value="true">Allow</option>
                                <option value="false">Disallow</option>
                              </select>
                            </div>
                            <!-- Shutdown permission -->
                            <div class="col">
                              <label for="componentInfoModalSettingsAllowShutdown" class="form-label">
                                Shutdown
                                <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Allow Control Server to shut down the PC. Make sure you have Wake-on-LAN configured if you want to remotely start the PC." style="font-size: 0.55em; color: black">?</span>
                              </label>
                              <select class="form-select componentInfoSetting" id="componentInfoModalSettingsAllowShutdown">
                                <option value="true">Allow</option>
                                <option value="false">Disallow</option>
                              </select>
                            </div>
                            <!-- Sleep permission -->
                            <div class="col">
                              <label for="componentInfoModalSettingsAllowSleep" class="form-label">
                                Sleep
                                <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Allow Control Server to put the display to sleep." style="font-size: 0.55em; color: black">?</span>
                              </label>
                              <select class="form-select componentInfoSetting" id="componentInfoModalSettingsAllowSleep">
                                <option value="true">Allow</option>
                                <option value="false">Disallow</option>
                              </select>
                            </div>
                            <div class="col d-flex">
                              <a id='componentInfoModalFullSettingsButton' class="btn btn-primary w-100 align-self-end" target='_blank'>Full settings</a>
                            </div>
                            
                          </div>
                          <div class="row mt-2">
                            <div class="col-12">
                              <!-- Component description input -->
                              <label class="form-label" for="componentInfoModalExhibitDescriptionInput">
                                Component description
                                <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="A short description to help others recognize this component." style="font-size: 0.55em; color: black">?</span>
                              </label>
                              <input id="componentInfoModalExhibitDescriptionInput" class="form-control componentInfoBasicSetting" type="text">
                            </div>
                          </div>
                        </div>
                        <div class="col-12">
                          <div id="componentInfoModalBasicSettingsIDWarning" class="text-danger mt-2">ID must not be blank.</div>
                          <div id="componentInfoModalBasicSettingsGroupWarning" class="text-danger mt-2">Components must be in at least one group.</div>
                        </div>
                      </div>
                    </div>
                    
                      <!-- Projector settings -->
                    <div id="componentInfoModalProjectorSettings" class="mt-2">
                      <span class="h5">Projector settings</span>
                      <div class="row gy-2">
                        <div class="col col-6 col-sm-4 col-md-3">
                          <label for="componentInfoModalProjectorSettingsID" class="form-label">
                            ID
                            <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Every Constellation component must have a unique ID." style="font-size: 0.55em; color: black">?</span>
                          </label>
                          <input id="componentInfoModalProjectorSettingsID" class="form-control componentInfoProjectorSetting" type="text">
                        </div>
                        <div class="col col-6 col-sm-4 col-md-3">
                          <label for="componentInfoModalProjectorSettingsGroup" class="form-label">Groups</label>
                          <select id="componentInfoModalProjectorSettingsGroup" class="form-control componentInfoProjectorSetting" multiple></select>
                        </div>
                        <div class="col col-6 col-sm-4 col-md-3">
                          <label for="componentInfoModalProjectorSettingsIPAddress" class="form-label">IP address</label>
                          <input id="componentInfoModalProjectorSettingsIPAddress" class="form-control componentInfoProjectorSetting" type="text">
                        </div>
                        <div class="col col-6 col-sm-4 col-md-3">
                          <label for="componentInfoModalProjectorSettingsPassword" class="form-label">Password</label>
                          <input id="componentInfoModalProjectorSettingsPassword" class="form-control componentInfoProjectorSetting" type="text">
                        </div>
                        <div class="col-12">
                          <label id="componentInfoModalProjectorDescriptionInputLabel" class="form-label" for="componentInfoModalProjectorDescriptionInput">
                            Projector description
                            <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="A short description to help others recognize this projector." style="font-size: 0.55em; color: black">?</span>
                          </label>
                          <input id="componentInfoModalProjectorDescriptionInput" class="form-control componentInfoProjectorSetting" type="text">
                        </div>
                        <div class="col">
                          <button id="componentInfoModalProjectorSettingsSaveButton" class="btn btn-primary">Save changes</button>
                        </div>
                      </div>
                      <div id="componentInfoModalProjectorSettingsIDWarning" class="text-danger mt-2">ID must not be blank.</div>
                      <div id="componentInfoModalProjectorSettingsGroupWarning" class="text-danger mt-2">The projector must belong to at least one group.</div>
                      <div id="componentInfoModalProjectorSettingsIPWarning" class="text-danger mt-2">IP address must not be blank.</div>
                    </div>

                    <!-- Static settings -->
                    <div id="componentInfoModalStaticSettings" class="mt-2">
                      <span class="h5">Static component settings</span>
                      <div class="row gy-2">
                        <div class="col col-6 col-md-4">
                          <label for="componentInfoModalStaticSettingsID" class="form-label">
                            ID
                            <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Every Constellation component must have a unique ID." style="font-size: 0.55em; color: black">?</span>
                          </label>
                          <input id="componentInfoModalStaticSettingsID" class="form-control componentInfoStaticSetting" type="text">
                        </div>
                        <div class="col col-6 col-md-4">
                          <label for="componentInfoModalStaticSettingsGroup" class="form-label">Groups</label>
                          <select id="componentInfoModalStaticSettingsGroup" class="form-control componentInfoStaticSetting" multiple></select>
                        </div>
                        <div class="col-12">
                          <label id="componentInfoModalStaticDescriptionInputLabel" class="form-label" for="componentInfoModalStaticDescriptionInput">
                            Component description
                            <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="A short description to help others recognize this component." style="font-size: 0.55em; color: black">?</span>
                          </label>
                          <input id="componentInfoModalStaticDescriptionInput" class="form-control componentInfoStaticSetting" type="text">
                        </div>
                        <div class="col">
                          <button id="componentInfoModalStaticSettingsSaveButton" class="btn btn-primary">Save changes</button>
                        </div>
                      </div>
                      <div id="componentInfoModalStaticSettingsIDWarning" class="text-danger mt-2">ID must not be blank.</div>
                      <div id="componentInfoModalStaticSettingsGroupWarning" class="text-danger mt-2">Components must be in at least one group.</div>
                    </div>

                    <!-- Wake on LAN settings -->
                    <div id="componentInfoModalWakeOnLANSettings" class="mt-2">
                      <span class="h5">Wake on LAN settings</span>
                      <div class="row gy-2">
                        <div class="col col-6 col-sm-4 col-md-3">
                          <label for="componentInfoModalWakeOnLANSettingsID" class="form-label">
                            ID
                            <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Every Constellation component must have a unique ID." style="font-size: 0.55em; color: black">?</span>
                          </label>
                          <input id="componentInfoModalWakeOnLANSettingsID" class="form-control componentInfoWakeOnLANSetting" type="text">
                        </div>
                        <div class="col col-6 col-sm-4 col-md-3">
                          <label for="componentInfoModalWakeOnLANSettingsGroup" class="form-label">Group</label>
                          <select id="componentInfoModalWakeOnLANSettingsGroup" class="form-control componentInfoWakeOnLANSetting" multiple></select>
                        </div>
                        <div class="col col-6 col-sm-4 col-md-3">
                          <label for="componentInfoModalWakeOnLANSettingsMAC" class="form-label">MAC address</label>
                          <input id="componentInfoModalWakeOnLANSettingsMAC" class="form-control componentInfoWakeOnLANSetting" type="text">
                        </div>
                        <div class="col col-6 col-sm-4 col-md-3">
                          <label for="componentInfoModalWakeOnLANSettingsIPAddress" class="form-label">IP address</label>
                          <input id="componentInfoModalWakeOnLANSettingsIPAddress" class="form-control componentInfoWakeOnLANSetting" type="text">
                        </div>
                        <div class="col-12">
                          <label id="componentInfoModalWakeOnLANDescriptionInputLabel" class="form-label" for="componentInfoModalWakeOnLANDescriptionInput">
                            Component description
                            <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="A short description to help others recognize this component." style="font-size: 0.55em; color: black">?</span>
                          </label>
                          <input id="componentInfoModalWakeOnLANDescriptionInput" class="form-control componentInfoWakeOnLANSetting" type="text">
                        </div>
                        <div class="col">
                          <button id="componentInfoModalWakeOnLANSettingsSaveButton" class="btn btn-primary">Save changes</button>
                        </div>
                      </div>
                      <div id="componentInfoModalWakeOnLANSettingsIDWarning" class="text-danger mt-2">ID must not be blank.</div>
                      <div id="componentInfoModalWakeOnLANSettingsGroupWarning" class="text-danger mt-2">Group must not be blank.</div>
                      <div id="componentInfoModalWakeOnLANSettingsMACWarning" class="text-danger mt-2">MAC address must be six pairs of two characters, separated by - or :.</div>
                    </div>

                    <div class="row mt-3 mt-auto">
                      <div class="col">
                        <button id="componentInfoModalSettingsSaveButton" class="btn btn-primary">Save changes</button>
                        <button id="componentInfoModalBasicSettingsSaveButton" class="btn btn-primary">Save changes</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button id="componentInfoModalViewScreenshot" type="button" class="btn btn-info me-auto">See screenshot</button>
              <button id='componentInfoModalDefinitionSaveButton' class='btn btn-primary'>Save</button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Issue edit modal -->
      <div class="modal" tabindex="-1" role="dialog" id="issueEditModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 id="issueEditModalTitle" class="modal-title">Create Issue</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form class="mb-2" onsubmit="event.preventDefault();">
                <div class="form-group">
                  <div class="row gy-2">
                    <div class="col-8">
                      <label for="issueTitleInput">Title</label>
                      <input type="text" class="form-control" id="issueTitleInput" placeholder="e.g., Fix button">
                    </div>
                    <div class="col-4">
                      <label for="issuePrioritySelector">Priority</label>
                      <select class="form-select" id="issuePrioritySelector">
                        <option value='low'>Low</option>
                        <option value='medium'>Medium</option>
                        <option value='high'>High</option>
                      </select>
                    </div>
                    <div class="col-12">
                      <label for="issueDescriptionInput">Description</label>
                      <textarea class="form-control" id="issueDescriptionInput" placeholder="e.g., The red button is loose."></textarea>
                    </div>
                    <div class="col-6">
                      <label for="issueRelatedComponentsSelector">Related components</label>
                      <select class="form-select" id="issueRelatedComponentsSelector" multiple>
                      </select>
                    </div>
                    <div class="col-6">
                      <label for="issueAssignedToSelector">Assigned to</label>
                      <select class="form-select" id="issueAssignedToSelector" multiple>
                      </select>
                    </div>
                    <div class='col-12'>
                      <label id="issueMediaModalLabel" for="issueMediaUpload">Add media</label>
                    </div>
                    <div id="issueMediaViewCol" class='col-12'>
                      <div class="row">
                        <div class="col-6">
                          <select id="issueMediaViewFromModalSelect" class="form-select"></select>
                        </div>
                        <div class="col-3">
                          <button id="issueMediaViewFromModal" class='btn btn-outline-secondary w-100'>View</button>
                        </div>
                        <div class="col-3">
                          <button id="issueMediaDeleteButton" class='btn btn-outline-danger w-100' data-bs-toggle="popover" title="Are you sure?" data-bs-content="<a id='issueMediaDeleteButtonConfirmation' class='btn btn-danger w-100'>Confirm</a>" data-bs-trigger="focus" data-bs-html="true">Delete</button>
                        </div>
                      </div>
                    </div>
                    <div id="issueMediaUploadCol" class='col-8'>
                      <label class="btn btn-outline-secondary text-wrap" style="max-width: 100%;">
                        <span id="issueMediaUploadFilename" class="w-100">Choose file</span>
                        <input hidden multiple type="file" accept="image/*,video/*" class="form-control-file" id="issueMediaUpload">
                      </label>
                    </div>
                    <div class="col-4">
                      <button id="issueMediaUploadSubmitButton" class='btn w-100 btn-outline-primary'>Upload</button>
                    </div>
                    <div class='col-12 mt-2' id='issueMediaUploadProgressBarContainer'>
                      <div class="progress" style="height: 25px;">
                        <div id='issueMediaUploadProgressBar' class="progress-bar" role="progressbar" style="width: 30%; font-size: large;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                    <div class='col-12 text-danger mt-2' id='issueMediaUploadHEICWarning'>HEIC images are not supported. Please convert to JPG or PNG.</div>
                  </div>
                </div>
              </form>
            <div class="modal-footer">
              <button id="issueEditSubmitButton" type="button" class="btn btn-primary ms-auto">Save changes</button>
              <button id="issueEditCancelButton" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            </div>
          </div>
          </div>
        </div>
      </div>

      <!-- Modify issue confirmation modal -->
      <!-- This modal is called when deleting or archiving an issue to confirm. -->
      <div class="modal" tabindex="-1" role="dialog" id="issueModifyModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 id="issueModifyModalDeleteTitle" class="modal-title">Delete issue?</h5>
              <h5 id="issueModifyModalArchiveTitle" class="modal-title">Archive issue?</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div id="issueModifyModalDeleteContent">
                <span class="text-danger"> Deleting an issue cannot be undone. </p>
              </div>
              <div id="issueModifyModalArchiveContent">
                <p> Mark an issue as complete to move it to the archive. Archived issues can be restored at any time, but their media files are deleted. </p>
              </div>
            </div>
            <div class="modal-footer">
              <button id="issueModifyModalDeleteButton" type="button" class="btn btn-danger ms-auto">Delete</button>
              <button id="issueModifyModalArchiveButton" type="button" class="btn btn-success ms-auto">Mark complete</button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            </div>
          </div>
          </div>
        </div>
      </div>

      <!-- Archived/completed issues modal -->
      <div class="modal" tabindex="-1" role="dialog" id="archivedIssuesModal">
        <div class="modal-dialog modal-dialog-centered exhibitera-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Completed issues</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div id="completedIssuesModalIssueRow" class="row gy-2 row-cols-1 row-cols-md-2"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
          </div>
        </div>
      </div>

      <!-- Add projector modal -->
      <div class="modal" tabindex="-1" role="dialog" id="addProjectorModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Add projector</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <p>Control Server can manage network-connected projectors using the PJLink protocol. To connect a projector, you must first connect it via Ethernet, give it a static IP address, and activate PJLink on the projector.</p>

              <div class="row row-cols-2 gy-2">
                <div class="col">
                  <label class="form-label" for="addProjectorModalIDField">
                    ID
                    <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" style="font-size: 0.55em; color: black" data-bs-original-title="Every component in Constellation must have a unique ID.">?</span>
                  </label>
                  <input id="addProjectorModalIDField" type="text" class="form-control">
                </div>
                <div class="col">
                  <label class="form-label" for="addProjectorModalGroupField">Group</label>
                  <input id="addProjectorModalGroupField" type="text" class="form-control">
                </div>
                <div class="col">
                  <label class="form-label" for="addProjectorModalIPField">IP address</label>
                  <input id="addProjectorModalIPField" type="text" class="form-control">
                </div>
                <div class="col">
                  <label class="form-label" for="addProjectorModalPasswordField">
                    Password
                    <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" style="font-size: 0.55em; color: black" data-bs-original-title="If this projector doesn't have a password, leave this field blank.">?</span>
                  </label>
                  <input id="addProjectorModalPasswordField" type="text" class="form-control">
                </div>
              </div>
              <div class="row gy-2 mt-2">
                <div id="addProjectorModalIDError" class="col-12 text-danger">
                  You must give this projector an ID.
                </div>
                <div id="addProjectorModalGroupError" class="col-12 text-danger">
                  You must put this projector in a group.
                </div>
                <div id="addProjectorModalIPError" class="col-12 text-danger">
                  You must input the static IP address for this projector.
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button id="addProjectorModalAddButton" type="button" class="btn btn-primary">Add</button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
          </div>
        </div>
      </div>

      <!-- Add static component modal -->
      <div class="modal" tabindex="-1" role="dialog" id="addStaticComponentModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Add static component</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <p>Static components allow you to add non-Constellation exhibit elements to Control Server. This is useful for incorporating them into the maintenance tracking system.</p>

              <div class="row">
                <div class="col">
                  <label class="form-label" for="addStaticComponentModalIDField">
                    ID
                    <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" style="font-size: 0.55em; color: black" data-bs-original-title="Every component in Constellation must have a unique ID.">?</span>
                  </label>
                  <input id="addStaticComponentModalIDField" type="text" class="form-control">
                </div>
                <div class="col">
                  <label class="form-label" for="addStaticComponentModalGroupField">Group</label>
                  <input id="addStaticComponentModalGroupField" type="text" class="form-control">
                </div>
              </div>
              <div class="row gy-2 mt-2">
                <div id="addStaticComponentModalIDError" class="col-12 text-danger">
                  You must give this component an ID.
                </div>
                <div id="addStaticComponentModalGroupError" class="col-12 text-danger">
                  You must put this component in a group.
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button id="addStaticComponentModalAddButton" type="button" class="btn btn-primary">Add</button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
          </div>
        </div>
      </div>

      <!-- Add Wake on LAN modal -->
      <div class="modal" tabindex="-1" role="dialog" id="addWakeOnLANModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Add wake on LAN device</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <p>Control Server can send magic packets to activate wake on LAN. To set up a device, it must be connected via Ethernet and you must know the MAC address of the network adapter.</p>

              <div class="row row-cols-2 gy-2">
                <div class="col">
                  <label class="form-label" for="addWakeOnLANModalIDField">
                    ID
                    <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" style="font-size: 0.55em; color: black" data-bs-original-title="Every component in Constellation must have a unique ID.">?</span>
                  </label>
                  <input id="addWakeOnLANModalIDField" type="text" class="form-control">
                </div>
                <div class="col">
                  <label class="form-label" for="addWakeOnLANModalGroupField">Group</label>
                  <input id="addWakeOnLANModalGroupField" type="text" class="form-control">
                </div>
                <div class="col">
                  <label class="form-label" for="addWakeOnLANModalMACField">
                    MAC address
                    <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" style="font-size: 0.55em; color: black" data-bs-original-title="This should have the format XX:XX:XX:XX:XX:XX or XX-XX-XX-XX-XX-XX.">?</span>
                  </label>
                  <input id="addWakeOnLANModalMACField" type="text" class="form-control">
                </div>
                <div class="col">
                  <label class="form-label" for="addWakeOnLANModalIPField">
                    IP address
                    <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" style="font-size: 0.55em; color: black" data-bs-original-title="If the device has a static IP address, add it here and Control Server will check if the device is online.">?</span>
                  </label>
                  <input id="addWakeOnLANModalIPField" type="text" class="form-control">
                </div>
              </div>
              <div class="row gy-2 mt-2">
                <div id="addWakeOnLANModalIDError" class="col-12 text-danger">
                  You must give this device an ID.
                </div>
                <div id="addWakeOnLANModalGroupError" class="col-12 text-danger">
                  You must put this device in a group.
                </div>
                <div id="addWakeOnLANModalMACError" class="col-12 text-danger">
                  You must input the MAC address for this device.
                </div>
                <div id="addWakeOnLANModalBadMACError" class="col-12 text-danger">
                  The MAC address must be 12 characters, separated by ':' or '-'.
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button id="addWakeOnLANModalAddButton" type="button" class="btn btn-primary">Add</button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
          </div>
        </div>
      </div>

      <div class="row mb-2">
        <div class="col-10">
          <div id="galleryNameField"></div>
          <div id="exhibitNameField"></div>
        </div>
        <div class="col-2">
          <div id="loginMenu">
            <button class="btn btn-outline-primary btn-sm dropdown-toggle float-end" type="button" data-bs-toggle="dropdown" aria-expanded="false">Log in</button>
            <div class="dropdown-menu">
              <div class="px-4 py-3">
                <div class="mb-3">
                  <label for="loginDropdownUsername" class="form-label">Username</label>
                  <input type="text" class="form-control" id="loginDropdownUsername">
                </div>
                <div class="mb-3">
                  <label for="loginDropdownPassword" class="form-label">Password</label>
                  <input type="password" class="form-control" id="loginDropdownPassword">
                </div>
                <button id="loginSubmitButton" class="btn btn-primary">Log in</button>
              </div>
              <div class="dropdown-divider"></div>
              <button class="dropdown-item" id="loginCreateAccountButton">Create account</button>
              <a class="dropdown-item" href="#">Forgot password?</a>
            </div>
          </div>
          <div id="userMenu" style="display: none;">
            <button class="btn btn-outline-primary btn-sm dropdown-toggle float-end" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              <span id="userMenuUserDisplayName" class="d-none d-sm-inline-block">Morgan Rehnberg</span>
              <span id="userMenuUserShortName" class="d-sm-none">MR</span>
              </button>
            <div class="dropdown-menu">
              <button class="dropdown-item" id="changePasswordButton">Change password</button>
              <div class="dropdown-divider"></div>
              <button class="dropdown-item" id="logoutButton">Log out</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Top navigation bar -->
      <nav>
        <ul class="nav nav-tabs" id="nav-tab" role="tablist">
          <li class="nav-item">
            <a class="nav-link active" id="nav-components-tab" data-bs-toggle="tab" href="#nav-components" role="tab" aria-controls="nav-components" aria-selected="true">Components</a>
          </li>
          <li class="nav-item">
            <a class="nav-link d-block d-sm-block" id="nav-schedule-tab" data-bs-toggle="tab" href="#nav-schedule" role="tab" aria-controls="nav-schedule" aria-selected="false">Schedule</a>
          </li>
          <li class="nav-item">
            <a class="nav-link d-none d-sm-block" id="nav-exhibits-tab" data-bs-toggle="tab" href="#nav-exhibits" role="tab" aria-controls="nav-exhibits" aria-selected="false">Exhibits</a>
          </li>
          <li class="nav-item">
            <a class="nav-link d-none d-sm-block" id="nav-issues-tab" data-bs-toggle="tab" href="#nav-issues" role="tab" aria-controls="nav-issues" aria-selected="false">Maintenance</a>
          </li>
          <li class="nav-item">
            <a class="nav-link d-none d-md-block" id="nav-analytics-tab" data-bs-toggle="tab" href="#nav-analytics" role="tab" aria-controls="nav-analytics" aria-selected="false">Analytics</a>
          </li>
          <li class="nav-item">
            <a class="nav-link d-none d-lg-block" id="nav-users-tab" data-bs-toggle="tab" href="#nav-users" role="tab" aria-controls="nav-users" aria-selected="false">Users</a>
          </li>
          <li class="nav-item">
            <a class="nav-link d-none d-lg-block" id="nav-settings-tab" data-bs-toggle="tab" href="#nav-settings" role="tab" aria-controls="nav-settings" aria-selected="false">Settings</a>
          </li>
          <li class="nav-item">
            <a class="nav-link d-none d-lg-block" id="nav-help-tab" data-bs-toggle="tab" href="#nav-help" role="tab" aria-controls="nav-help" aria-selected="false">Help</a>
          </li>
          
          <!-- Dropdown for overflow items -->
          <li class="nav-item dropdown d-block d-lg-none">
            <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">More</a>
            <div class="dropdown-menu">
              <!-- <a class="dropdown-item d-block d-sm-none" id="nav-schedule-dropdown-tab" data-bs-toggle="tab" href="#nav-schedule" role="tab" aria-controls="nav-schedule" aria-selected="false">Schedule</a> -->
              <a class="dropdown-item d-block d-sm-none" id="nav-exhibits-dropdown-tab" data-bs-toggle="tab" href="#nav-exhibits" role="tab" aria-controls="nav-exhibits" aria-selected="false">Exhibits</a>
              <a class="dropdown-item d-block d-sm-none" id="nav-issues-dropdown-tab" data-bs-toggle="tab" href="#nav-issues" role="tab" aria-controls="nav-issues" aria-selected="false">Maintenance</a>
              <a class="dropdown-item d-block d-md-none" id="nav-analytics-dropdown-tab" data-bs-toggle="tab" href="#nav-analytics" role="tab" aria-controls="nav-analytics d-block d-md-none" aria-selected="false">Analytics</a>
              <a class="dropdown-item" id="nav-users-dropdown-tab" data-bs-toggle="tab" href="#nav-users" role="tab" aria-controls="nav-users" aria-selected="false">Users</a>
              <a class="dropdown-item" id="nav-settings-dropdown-tab" data-bs-toggle="tab" href="#nav-settings" role="tab" aria-controls="nav-settings" aria-selected="false">Settings</a>
              <a class="dropdown-item" id="nav-help-dropdown-tab" data-bs-toggle="tab" href="#nav-help" role="tab" aria-controls="nav-help" aria-selected="false">Help</a>
            </div>
          </li>
        </ul>
      </nav>
      

      <div class="tab-content" id="nav-tabContent">

        <div class="tab-pane fade show active" id="nav-components" role="tabpanel" aria-labelledby="nav-components-tab">

          <!-- Software update details modal -->
          <div class="modal" tabindex="-1" role="dialog" id="updateInfoModal">
            <div class="modal-dialog modal-dialog-centered exhibitera-dialog" role="document">
              <div class="modal-content" style="border:black 1px solid;">
                <div class="modal-header">
                  <div class="row w-100">
                    <div class="col-12">
                      <h4 class="modal-title" id="updateInfoModalTitle">Update Available: <span id="updateInfoModalTitleID"></span></h4>
                    </div>
                    <div class="col-6 col-sm-4 col-md-3 pt-2">
                      <div class="row ps-3 pe-1">
                        <div class="col-9 bg-info font-weight-bold ps-2 py-1 rounded-start me-0 pe-0 text-dark">Your version</div>
                        <div id="updateInfoModalCurrentVersion" class="col-3  py-1 bg-warning text-dark fw-bold rounded-end ms-0 ps-2">1.0</div>
                      </div>
                    </div>
                    <div class="col-6 col-sm-4 col-md-3 pt-2">
                      <div class="row ps-1 pe-3">
                        <div class="col-9 bg-info text-dark font-weight-bold ps-2 py-1 rounded-start me-0 pe-0">Latest version</div>
                        <div id="updateInfoModalLatestVersion" class="col-3  py-1 bg-success text-white fw-bold rounded-end ms-0 ps-2">2.0</div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="modal-body">
                  <div class="row">
                    <div id="updateInfoModalControlServerInstructions" class="col-6 border-right border-secondary">
                      <H4>Installation instructions</H4>
                      Follow these steps to update Control Server:
                      <ol>
                        <li>Click <i>Download update</i> and download the correct zipped update file for your operating system.</li>
                        <li>Unzip the download to find the <code>control_server</code> executable.</li>
                        <li>From the Control Server terminal window, press <code>Ctrl-c</code> to stop the server.</li>
                        <li>Replace the existing <code>control_server</code> file with the new one.</li>
                        <li>Launch Control Server to complete the update.</li>
                      </ol>
                      <strong>For best results, update Control Server and all its components at the same time.</strong>
                    </div>
                    <div id="updateInfoModalAppsInstructions" class="col-6 border-right border-secondary">
                      <H4>Installation instructions</H4>
                      Follow these steps to update Constellation Apps:
                      <ol>
                        <li>Click <i>Download update</i> and download the correct zipped update file for your operating system.</li>
                        <li>Unzip the download to find the <code>Constellation_Apps</code> executable.</li>
                        <li>Close any app or terminal windows.</li>
                        <li>Replace the existing <code>Constellation_Apps</code> file with the new one.</li>
                        <li>Launch Constellation Apps to complete the update. You may need to restart your PC for the update to take full effect.</li>
                      </ol>
                      <strong>For best results, update Control Server and all its components at the same time.</strong>
                    </div>
                    <div id="updateInfoModalChangelogContainer" class="col-6"></div>
                  </div>
                </div>
                <div class="modal-footer">
                  <a type="button" class="btn btn-primary" id="updateInfoModalDownloadButton" target="_blank">Download update</a>
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>

          <div class="modal" tabindex="-1" role="dialog" id="fileDeleteModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content" style="border:black 1px solid;">
                <div class="modal-header">
                  <h4 class="modal-title" id="fileDeleteModalTitle">Are you sure?</h4>
                </div>
                <div class="modal-body">
                  <div class="row">
                    <div class="col-auto" id="fileDeleteModalText"></div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-danger" id="fileDeleteConfirmationButton">Delete File</button>
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                </div>
              </div>
            </div>
          </div>

          <div class="row mt-3" id="componentsTabSettingsRow">
            <div class="col-3 col-md-2 col-xl-1">
              <div class="dropdown">
                <button class="btn btn-primary dropdown-toggle w-100" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Add
                </button>
                <ul class="dropdown-menu">
                  <li><a id="showAddProjetorModalButton" class="dropdown-item" href="#">Projector</a></li>
                  <li><a id="showAddStaticComponentModalButton" class="dropdown-item" href="#">Static component</a></li>
                  <li><a id="showAddWakeOnLANModalButton" class="dropdown-item" href="#">Wake on LAN device</a></li>
                </ul>
              </div>
            </div>
            <div class="col-5 col-md-3 col-xl-2">
              <div class="dropdown">
                <button class="btn btn-info dropdown-toggle w-100" type="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
                  View options
                </button>
                <ul class="dropdown-menu w-100">
                  <li>
                    <div class="form-check ms-3">
                      <input class="form-check-input" type="checkbox" checked id="componentsTabSettingsShowStatic">
                      <label class="form-check-label" for="componentsTabSettingsShowStatic">
                        Show static components
                      </label>
                    </div>
                  </li>
                  <li><hr id="componentsTabSettingsShowStaticDivider" class='dropdown-divider'></li>
                  <li>
                    <div class="form-check ms-3">
                      <input class="form-check-input view-mode-radio" type="radio" name="componentStatusMode" checked id="componentStatusModeRealtimeCheckbox">
                      <label class="form-check-label" for="componentStatusModeRealtimeCheckbox">
                        Real-time status
                      </label>
                    </div>
                  </li>
                  <li>
                    <div class="form-check ms-3">
                      <input class="form-check-input view-mode-radio" type="radio" name="componentStatusMode" id="componentStatusModeMaintenanceCheckbox">
                      <label class="form-check-label" for="componentStatusModeMaintenanceCheckbox">
                        Maintenance status
                      </label>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
            <div class="col d-flex align-items-end">
              
            </div>
          </div>
          <div class="row" id="notificationDisplayRow">
          </div>
          <div class="row" id="componentGroupsRow">
          </div>
        </div>

        <div class="tab-pane fade" id="nav-schedule" role="tabpanel" aria-labelledby="nav-schedule-tab">
          
          <!-- Manage future date modal -->
          <div class="modal" tabindex="-1" role="dialog" id="manageFutureDateModal">
            <div class="modal-dialog exhibitera-dialog modal-dialog-centered" role="document">
              <div class="modal-content"  style="height: max(80vh, 100px);">
                <div class="modal-header">
                  <h5 class="modal-title">Manage a future date</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <div class="row h-100">
                    <div class="col-12 col-sm-5 h-100">
                      <div>
                        <label for="manageFutureDateCalendarInput" class="visually-hidden">Date</label>
                        <input id="manageFutureDateCalendarInput" type="date" class="form-control mb-3">
                      </div>
                      <div id="manageFutureDateAvailableSchedulesList" style="max-height: 50vh; overflow-y: auto;"></div>
                    </div>
                    <div class="col-12 col-sm-7">
                      <div class="row">
                        <div id="manageFutureDateCreateScheduleButtonContainer" class="col-12 text-center mt-auto">
                          <button id="manageFutureDateCreateScheduleButton" class="btn btn-primary">Create date-specific schedule</button>
                        </div>
                        <div class="col-6">
                          <button id="manageFutureDateAddActionButton" class="btn btn-primary w-100" style="display: none;">Add action</button>
                        </div>
                        <div class="col-6">
                          <button id="manageFutureDateDeleteScheduleButton" type="button" class="btn btn-danger w-100" data-bs-toggle="popover" title="Are you sure?" data-bs-content="<a id='manageFutureDateDeleteScheduleButtonPopover' class='btn btn-danger w-100 schedule-delete'>Confirm</a>" data-bs-trigger="focus" data-bs-html="true"  style="display: none;">Delete schedule</button>
                        </div>
                      </div>
                      <div id="manageFutureDateEntryList" class="mt-3" style="max-height: 50vh; overflow-y: auto; overflow-x: hidden;"></div>
                    </div>
                  </div>
                  
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>

          <!-- Create schedule from CSV modal -->
          <div class="modal" tabindex="-1" role="dialog" id="scheduleFromFileModal">
            <div class="modal-dialog exhibitera-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Create a schedule from file</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body"> 
                  <div class="row gy-2">
                    <div class="col-6 col-md-3 d-flex align-self-end">
                      <div>
                        <label for="scheduleFromFileKindSelect">Schedule to create</label>
                        <select id="scheduleFromFileKindSelect" class="form-select mt-1">
                          <option value="monday">All Mondays</option>
                          <option value="tuesday">All Tuesdays</option>
                          <option value="wednesday">All Wednesdays</option>
                          <option value="thursday">All Thursdays</option>
                          <option value="friday">All Fridays</option>
                          <option value="saturday">All Saturdays</option>
                          <option value="sunday">All Sundays</option>
                          <option value="date-specific">Specific date</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-6 col-md-3 d-flex align-self-end">
                      <input id="scheduleFromFileDateSelect" type="date" class="form-control mt-2">
                    </div>
                    <div class="col-6 col-md-3 d-flex align-self-end">
                      <label class="btn btn-outline-primary w-100">
                        <span id="scheduleFromFileModalFileInputLabel" style="overflow-wrap: break-word!important;">Select file</span>
                        <input hidden type="file" class="form-control" id="scheduleFromFileModalFileInput" accept=".csv,.json">
                      </label>
                    </div>
                    <div class="col-3 d-flex align-self-end">
                      <button id="scheduleFromFileModalUploadButton" class="btn btn-primary w-100">Upload</button>
                    </div>
                  </div>
                  <div id="scheduleFromFileScheduleCompare" class="row gy-2 mt-2">
                    <div class="col-6 border-end">
                      <H5 class="text-center">Current schedule</H5>
                      <div id="scheduleFromFileCurrentSchedule"></div>
                    </div>
                    <div class="col-6">
                      <H5 class="text-center">Replace with</H5>
                      <div id="scheduleFromFileNewSchedule"></div>
                    </div>
                    
                  </div>
                </div>
                <div class="modal-footer">
                  <button id="scheduleFromFileModalSubmitButton" type="button" class="btn btn-primary">Create</button>
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>

          <!-- Add action modal -->
          <div class="modal" tabindex="-1" role="dialog" id="scheduleEditModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 id="scheduleEditModalTitle" class="modal-title">Edit action</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <div id="scheduleEditScopeAlert" class="alert bg-info text-dark">This change will affect all Wednesdays</div>
                  <form id="scheduleEditForm" onsubmit="event.preventDefault();">
                    <div class="form-group">
                      <div class="row">
                        <div class="col-6 col-md-4">
                          <label for="scheduleActionTimeInput">Time</label>
                          <input type="text" class="form-control" id="scheduleActionTimeInput" placeholder="e.g., 9:30 AM">
                        </div>
                        <div class="col-6 col-md-4">
                          <label for="scheduleActionSelector">Action</label>
                          <select class="form-select" id="scheduleActionSelector">
                            <option value="power_on">Power on</option>
                            <option value="power_off">Power off</option>
                            <option value="refresh_page">Refresh components</option>
                            <option value="restart">Restart components</option>
                            <option value="set_definition">Set defintion</option>
                            <option value="set_dmx_scene">Set DMX scene</option>
                            <option value="set_exhibit">Set exhibit</option>
                            <option value="note">Add note</option>
                          </select>
                        </div>
                        <div class="col-6 col-md-4">
                          <label id="scheduleTargetSelectorLabel" for="scheduleTargetSelector">Target</label>
                          <select class="form-select" id="scheduleTargetSelector">
                          </select>
                        </div>
                        <div class="col-6">
                          <label id="scheduleValueSelectorLabel" for="scheduleValueSelector">Value</label>
                          <select class="form-select" id="scheduleValueSelector">
                          </select>
                        </div>
                        <div class="col-12 mt-2">
                          <input id="scheduleNoteInput" class="form-control" type="text" placeholder="Type short comment here.">
                        </div>
                      </div>
                    </div>
                  </form>
                  <div id="scheduleEditErrorAlert" class="alert bg-danger text-light w-100" style="display: none;"></div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-danger" me-auto id="scheduleEditDeleteActionButton">Delete action</button>
                  <button type="button" class="btn btn-primary ms-auto" id="scheduleEditSubmitButton">Save changes</button>
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                </div>
              </div>
            </div>
          </div>

          <div class="row mt-4 gy-2">
            <div class='col-12'>
              <h4><b>Next scheduled action: </b><span id="Schedule_next_event"></span></h4>
            </div>
            <div class='col-6 col-sm-3 col-md-4 col-lg-3 col-xl-2 my-auto'>
              <button id='manageFutureDateButton' class='btn btn-primary w-100'>Manage future date</button>
            </div>
            <div class='col-6 col-sm-4 col-md-3 col-lg-2 my-auto'>
              <button id="showScheduleFromFileModalButton" class="btn btn-primary w-100">Create from file</button>
            </div>
            <div id='dateSpecificScheduleAlert' class="col-sm-auto alert schedule-date-specific my-auto py-1 mt-2 mt-md-0" role="alert">
              Date-specific schedule
            </div>
          </div>

          <div id='scheduleContainer' class='row mt-2'>
          </div>
        </div>

        <div class="tab-pane fade" id="nav-exhibits" role="tabpanel" aria-labelledby="nav-exhibits-tab">
          <!-- Change exhibits modal -->
          <div class="modal" tabindex="-1" role="dialog" id="changeExhibitModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Are you sure?</h5>
                </div>
                <div class="modal-body">
                  Changing the exhibit will be immediately visible to guests and the changing process may be unsightly.
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-primary" id="exhibitChangeConfirmationButton">Change exhibit</button>
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                </div>
              </div>
            </div>
          </div>

          <!-- Delete exhibit modal -->
          <div class="modal" tabindex="-1" role="dialog" id="deleteExhibitModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Are you sure?</h5>
                </div>
                <div class="modal-body">
                  Deleting an exhibit cannot be undone.
                </div>
                <div class="modal-footer">
                  <button id="deleteExhibitButton" type="button" class="btn btn-danger">Delete exhibit</button>
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                </div>
              </div>
            </div>
          </div>

          <!-- Modal for managing exhibits -->
          <div class="modal" tabindex="-1" role="dialog" id="manageExhibitsModal">
            <div class="modal-dialog modal-dialog-centered exhibitera-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Manage exhibits</h5>
                </div>
                <div class="modal-body">
                  <div class="row">
                    <!-- Tool row -->
                    <div class="col-12">
                      <div class="row gy-2">
                        <div class="col-6 col-sm-3 col-md-4 d-flex align-items-end">
                          <div class="dropdown w-100">
                            <button class="btn btn-primary dropdown w-100 mt-3" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                              Create new
                            </button>
                            <ul class="dropdown-menu w-100">
                              <li><a id="manageExhibitsCreateEmptyButton" class="dropdown-item" href="#">
                                <span class="d-none d-sm-block">Create empty exhibit</span>
                                <span class="d-block d-sm-none">Create empty</span>
                              </a></li>
                              <li><a id="manageExhibitsCloneCurrentButton" class="dropdown-item" href="#">
                                <span class="d-none d-sm-block">Clone current exhibit</span>
                                <span class="d-block d-sm-none">Clone current</span>
                              </a></li>
                            </ul>
                          </div>
                        </div>

                        <div class="col-6 col-sm-3">
                          <label for="manageExhibitModalExhibitNameInput">Name</label>
                          <input type="text" class="form-control" id="manageExhibitModalExhibitNameInput" placeholder="Name">
                      </div>
                      <div class="col-6 col-sm-3 col-md-2 d-flex align-items-end">
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="" id="manageExhibitModalExhibitThumbnailCheckbox" checked>
                          <label class="form-check-label" for="manageExhibitModalExhibitThumbnailCheckbox">
                            Thumbnails
                          </label>
                        </div>
                      </div>
                      <div class="col-6 col-sm-3 d-flex align-items-end">
                        <button class="btn btn-success w-100">
                          Save exhibit
                        </button>
                      </div>
                      </div>
                      <hr>
                    </div>
                    <!-- Exhibit list -->
                    <div class="col-4 border-end">
                      <div id="manageExhibitsModalExhibitList" class="row"></div>
                    </div>
                    <!-- Exhibit content -->
                    <div class="col-8">
                      <div id="manageExhibitsModalExhibitContentList" class="row"></div>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>

          <div class="row mt-0 gy-2">
            <div class="col-12 fst-italic">
              Exhibits match each component in your gallery with one of its definitions. Switching exhibits makes it easy to switch the content on many components at once.
            </div>
            <div class="col-6 col-md-4 col-lg-3 col-xl-2">
              <div class="form-group">
                <label for="exhibitSelect">Set current exhibit</label>
                <select class="form-select" id="exhibitSelect"></select>
              </div>
            </div>
            <!-- <div class="col-3 d-flex align-items-end">
              <button id="manageExhibitsButton" class="btn btn-primary">Manage exhibits</button>
            </div> -->
            <div class="col-12 col-md-8">
              <div class="form-group">
                <label for="createExhibitNameInput">Create new exhibit</label>
                <div class='row'>
                  <div class='col-8 col-md-6 col-lg-4 col-xl-3 pe-1 mt-1'>
                    <input type="text" id='createExhibitNameInput' class='form-control' placeholder="Enter exhibit name"></input>
                  </div>
                  <div class='col-4 col-md-4 col-lg-3 col-xl-2 mt-1'>
                    <div class="dropdown">
                      <button class="btn btn-primary dropdown-toggle w-100" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Create
                      </button>
                      <ul class="dropdown-menu">
                        <li><button id="createExhibitButton" class='dropdown-item'>Create empty</button></li>
                        <li><button id="cloneExhibitButton" class='dropdown-item'>Clone current</button></li>
                      </ul>
                    </div>
                  </div>
                  <!-- <div class='col-6 col-md-3 col-lg-3 mt-1'>
                    <button id="createExhibitButton" class='btn btn-primary w-100'>Create Empty</button>
                  </div>
                  <div class='col-6 col-md-4 col-lg-3 mt-1'>
                    <button id="cloneExhibitButton" class='btn btn-primary w-100'>Clone Current</button>
                  </div> -->
                </div>
              </div>
            </div>
            <div class="col-12 col-sm-6 col-md-6 col-lg-4">
              <div class="form-group">
                  <label for="exhibitDeleteSelector">Delete exhibit</label>
                <div class="row">
                  <div class='col-7'>
                    <select class="form-select w-100" id="exhibitDeleteSelector"></select>
                  </div>
                  <div class='col-5'>
                    <button class='btn btn-danger w-100' id="exhibitDeleteSelectorButton">Delete</button>
                  </div>
                  <div class='col-12 mt-1'>
                    <span class='text-danger' id="exhibitDeleteSelectorWarning">Cannot delete current exhibit</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="tab-pane fade" id="nav-issues" role="tabpanel" aria-labelledby="nav-issues-tab">

          <div id='issueTabButtons' class='row gy-2 mt-2'>
            <div class='col-6 col-md-3 col-lg-2 d-flex align-items-end'>
              <button id="createIssueButton" class='btn btn-primary w-100'>Create issue</button>
            </div>
            <div class='col-6 col-md-3 col-lg-2 d-flex align-items-end'>
              <button id="viewIssueArchiveButton" class='btn btn-info w-100'>View completed</button>
            </div>
            <div class='col-6 col-md-3 col-xl-2'>
              <label>Priority</label>
              <select id="issueListFilterPrioritySelect" class='form-select'>
                <option value="all">All</option>
                <option value="low">Low</option>
                <option value="medium">Medium</option>
                <option value="high">High</option>
              </select>
            </div>
            <div class='col-6 col-md-3 col-xl-2'>
              <label>Assigned to</label>
              <select id="issueListFilterAssignedToSelect" class='form-select'>
              </select>
            </div>
            <div class='col-12'>
              <div id='issuesRow' class='row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 mt-3'></div>
            </div>
          </div>
        </div>

        <div class="tab-pane fade" id="nav-analytics" role="tabpanel" aria-labelledby="nav-analytics-tab">

          <!-- Edit tracker template modal -->
          <div class="modal" tabindex="-1" role="dialog" id="editTrackerTemplateModal" >
            <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: min(95%, 1000px); width: min(95%, 1000px);">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 id="editTrackerTemplateModalTitle" class="modal-title h2">Edit template: TEST</h5>
                </div>
                <div class="modal-body" style="height: calc(70vh);">
                  <div id='editTrackerCurrentWidgets' class='row h-100'>
                    <div class='col-4 col-sm-3 col-md-2 border-right'>
                      <H3>Widgets</H3>
                      <div id='editTrackerAvailableWidgets'>
                        <button class="btn btn-secondary w-100 mt-1" id="editTrackerTemplateModalAddCounterButton">Counter</button>
                        <button id="editTrackerTemplateModalAddDropdownButton" class="btn btn-secondary w-100 mt-1">Dropdown</button>
                        <button id="editTrackerTemplateModalAddNumberButton" class="btn btn-secondary w-100 mt-1">Number</button>
                        <button id="editTrackerTemplateModalAddSliderButton" class="btn btn-secondary w-100 mt-1">Slider</button>
                        <button id="editTrackerTemplateModalAddTextButton" class="btn btn-secondary w-100 mt-1">Text</button>
                        <button id="editTrackerTemplateModalAddTimerButton" class="btn btn-secondary w-100 mt-1">Timer</button>
                      </div>
                    </div>
                    <div class='col-4 col-sm-5 col-md-6 border-right border-left h-100'>
                      <H3>Current layout</H3>
                      <i>The number of widgets per row will depend on which device Flexible Tracker is used on.</i>
                      <div id='editTrackerTemplateModalCurrentLayout' class='row' style="max-height: 85%; overflow-y: auto;">
                      </div>
                    </div>
                    <div class='col-4 border-left h-100 d-flex flex-column' style="max-height: 100%; overflow-y: auto;">
                      <H3>Edit properties</H3>
                      <div id='editTrackerTemplateNameInputGroup'>
                        <label for='editTrackerTemplateNameInput'>Name</label>
                        <input id="editTrackerTemplateNameInput" type="text" class='form-control editTrackerTemplateInputField'></input>
                      </div>

                      <div id='editTrackerTemplateLabelInputGroup'>
                        <hr>
                        <label for='editTrackerTemplateLabelInput'>Label</label>
                        <input id="editTrackerTemplateLabelInput" type="text" class='form-control editTrackerTemplateInputField'></input>
                      </div>

                      <div id='editTrackerTemplateMultipleInputGroup' class='editTrackerTemplateInputGroup'>
                        <hr>
                        <label>Multiple</label>
                        <br>
                        <div class="form-check form-check-inline">
                          <input class="form-check-input editTrackerTemplateInputField" type="radio" name="editTrackerTemplateMultipleInput" id="editTrackerTemplateMultipleInputTrue" value="true">
                          <label class="form-check-label" for="editTrackerTemplateMultipleInputTrue">True</label>
                        </div>
                        <div class="form-check form-check-inline">
                          <input class="form-check-input editTrackerTemplateInputField" type="radio" name="editTrackerTemplateMultipleInput" id="editTrackerTemplateMultipleInputFalse" value="false" checked>
                          <label class="form-check-label" for="editTrackerTemplateMultipleInputFalse">False</label>
                        </div>
                        <p><i>Allow more than one option to be selected.</i></p>
                      </div>

                      <div id='editTrackerTemplateOptionsInputGroup' class='editTrackerTemplateInputGroup'>
                        <hr>
                        <label for='editTrackerTemplateOptionsInput'>Options</label>
                        <input id="editTrackerTemplateOptionsInput" type="text" class='form-control editTrackerTemplateInputField'></input>
                        <p><i>Separate each option with a comma.</i></p>
                      </div>

                      <div id='editTrackerTemplateSliderInputGroup' class='editTrackerTemplateInputGroup'>
                        <hr>
                        <label>Slider options</label>
                        <div class='row no-gutters'>
                          <div class='col-6 col-lg-3 px-1'>
                            <label for='editTrackerTemplateSliderInputMin'>Min</label>
                            <input id="editTrackerTemplateSliderInputMin" type="number" class='form-control editTrackerTemplateInputField' value=1></input>
                          </div>
                          <div class='col-6 col-lg-3 px-1'>
                            <label for='editTrackerTemplateSliderInputMax'>Max</label>
                            <input id="editTrackerTemplateSliderInputMax" type="number" class='form-control editTrackerTemplateInputField' value=5></input>
                          </div>
                          <div class='col-6 col-lg-3 px-1'>
                            <label for='editTrackerTemplateSliderInputStep'>Step</label>
                            <input id="editTrackerTemplateSliderInputStep" type="number" class='form-control editTrackerTemplateInputField' value=1></input>
                          </div>
                          <div class='col-6 col-lg-3 px-1'>
                            <label for='editTrackerTemplateSliderInputStart'>Start</label>
                            <input id="editTrackerTemplateSliderInputStart" type="number" class='form-control editTrackerTemplateInputField' value=3></input>
                          </div>
                        </div>
                      </div>

                      <div id='editTrackerTemplateExclusiveInputGroup' class='editTrackerTemplateInputGroup'>
                        <hr>
                        <label>Exclusive</label>
                        <br>
                        <div class="form-check form-check-inline">
                          <input class="form-check-input editTrackerTemplateInputField" type="radio" name="editTrackerTemplateExclusiveInput" id="editTrackerTemplateExclusiveInputTrue" value="true">
                          <label class="form-check-label" for="editTrackerTemplateExclusiveInputTrue">True</label>
                        </div>
                        <div class="form-check form-check-inline">
                          <input class="form-check-input editTrackerTemplateInputField" type="radio" name="editTrackerTemplateExclusiveInput" id="editTrackerTemplateExclusiveInputFalse" value="false" checked>
                          <label class="form-check-label" for="editTrackerTemplateExclusiveInputFalse">False</label>
                        </div>
                        <p><i>Starting an exclusive timer stops the others.</i></p>
                      </div>

                      <div id='editTrackerTemplateLinesInputGroup' class='editTrackerTemplateInputGroup'>
                        <hr>
                        <label for='editTrackerTemplateLinesInput'>Lines</label>
                        <input id="editTrackerTemplateLinesInput" type="number" class='form-control editTrackerTemplateInputField' value=5></input>
                        <p><i>Number of lines visible.</i></p>
                      </div>
                      <button id="editTrackerTemplateModalDeleteWidgetButton" class='btn btn-danger w-100 mt-4 mt-auto'>Delete</button>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button id="editTrackerTemplateModalSubmitChangesButton" type="button" class="btn btn-primary">Save</button>
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                </div>
              </div>
            </div>
          </div>

          <!-- Delete tracker template modal -->
          <div class="modal" tabindex="-1" role="dialog" id="deleteTrackerTemplateModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Are you sure?</h5>
                </div>
                <div class="modal-body">
                  Deleting a template cannot be undone.
                </div>
                <div class="modal-footer">
                  <button id="deleteTrackerTemplateFromModalButton" type="button" class="btn btn-danger">Delete template</button>
                  <button type="button" class="btn btn-success" data-bs-dismiss="modal">Cancel</button>
                </div>
              </div>
            </div>
          </div>

          <!-- Delete tracker data modal -->
          <div class="modal" tabindex="-1" role="dialog" id="deleteTrackerDataModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Are you sure?</h5>
                </div>
                <div class="modal-body">
                  Deleting the data cannot be undone. To continue, please retype the name of the data to be deleted:
                  <center><div id='deleteTrackerDataModalDeletedName' class='h4 mt-1'>TEST</div></center>
                  <center><input type="text" id='deleteTrackerDataModalDeletedInput'></input></center>
                  <p id='deleteTrackerDataModalSpellingError' class='text-danger mt-2'>Your typed name does not match. Are you sure you want to delete these data?</p>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-danger" id="deleteTrackerDataFromModalButton">Delete data</button>
                  <button type="button" class="btn btn-success" data-bs-dismiss="modal">Cancel</button>
                </div>
              </div>
            </div>
          </div>

          <H3 class='mt-2'>Flexible Tracker</H3>
          <i>With Flexible Tracker, you can create custom interfaces for surveys and evaluations.</i>
          <div class="row mt-3">
            <div class='col-6 col-md-5 col-lg-4 col-xl-3'>
              <input type="text" id='createTrackerTemplateName' class='form-control' placeholder="Enter template name"></input>
            </div>
            <div class="col-6 col-md-3 col-lg-3 col-xl-2">
              <button id="createTrackerTemplateButton" class='btn btn-primary w-100'>Create template</button>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-12 mt-2">
              <H4>Templates</H4>
              <i>Templates define the layout of a Flexible Tracker data collection interface.</i>
            </div>
            <div class="col-6 col-md-2 mt-2">
              <select id="trackerTemplateSelect" class="form-select"></select>
            </div>
            <div class="col-6 col-md-3 col-lg-2 col-xl-2 mt-2">
              <button id="launchTrackerButton" class='btn btn-primary w-100'>Launch</button>
            </div>
            <div class="col-6 col-md-3 col-lg-2 col-xl-2 mt-2">
              <button id="showEditTrackerTemplateButton" class='btn btn-info w-100'>Edit</button>
            </div>
            <div class="col-6 col-md-3 col-lg-2 col-xl-2 mt-2">
              <button id="deleteTrackerTemplateButton" class='btn btn-danger w-100'>Delete</button>
            </div>
          </div>
          <div class='row mt-3'>
            <div class="col-12 mt-2">
              <H4>Data</H4>
              <i>Download data collected by Flexible Tracker or deposited by another Constellation-compatible app.</i>
            </div>
            <div class="col-6 col-md-2 mt-2">
              <select id="trackerDataSelect" class="form-select"></select>
            </div>
            <div class="col-6 col-md-3 col-lg-2 col-xl-2 mt-2">
              <button id="getAvailableTrackerDataButton" class='btn btn-primary w-100'>Refresh list</button>
            </div>
            <div class="col-6 col-md-3 col-lg-2 col-xl-2 mt-2">
              <button id="downloadTrackerDataButton" class='btn btn-info w-100'>Download</button>
            </div>
            <div class="col-6 col-md-3 col-lg-2 col-xl-2 mt-2">
              <button id="showDeleteTrackerDataModalButton" class='btn btn-danger w-100'>Delete</button>
            </div>
          </div>

        </div>

        <div class="tab-pane fade" id="nav-settings" role="tabpanel" aria-labelledby="nav-settings-tab">

          <!-- Delete group confirmation -->
          <div class="modal" tabindex="-1" role="dialog" id="deleteGroupModal">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Delete group?</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-danger">
                  Deleting a group cannot be undone.
                </div>
                <div class="modal-footer">
                  <button id="deleteGroupConfirmationButton" type="button" class="btn btn-danger ms-auto">Delete</button>
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                </div>
              </div>
            </div>
          </div>

          <H3 class='mt-4'>Groups</H3>
          <div class="row mt-0 gy-2">
            <div class="col-12 fst-italic">
              Groups help you organize your components. You may choose to arrange them by location, type, content, or whatever supports your needs.
            </div>
            <div class="col-4 col-sm-3 col-md-2 border-end">
              <button id="settingsAddGroupButton" class="btn btn-primary w-100">Add group</button>
            </div>
            <div class="col-8 col-sm-9 col-md-10">
              <div id="settingsGroupsRow" class="row gy-2 row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5"></div>
            </div>
          </div>

          <H3 class='mt-4'>Configuration</H3>
          <div class="row gy-2 row-cols-2 row-cols-md-3 row-cols-lg-5">
            <!-- IP address -->
            <div class="col">
              <label class="form-label" for="controlServerSettingsIPAddress">
                IP address
                <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="The static IP address of the PC Control Server is running on." style="font-size: 0.55em; color: black">?</span>
              </label>
              <input id="controlServerSettingsIPAddress" type="text" class="form-control controlServerSettingsInputField"></input>
            </div>

            <!-- Port -->
            <div class="col">
              <label class="form-label" for="controlServerSettingsPort">
                Port
                <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="The port on which Control Server is listening." style="font-size: 0.55em; color: black">?</span>
              </label>
              <input id="controlServerSettingsPort" type="number" class="form-control controlServerSettingsInputField"></input>
            </div>

            <!-- Gallery name -->
            <div class="col">
              <label class="form-label" for="controlServerSettingsGalleryName">
                Gallery name
                <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="A name describing the space managed by Control Server." style="font-size: 0.55em; color: black">?</span>
              </label>
              <input id="controlServerSettingsGalleryName" type="text" class="form-control controlServerSettingsInputField"></input>
            </div>

            <!-- Debug mode -->
            <div class="col">
              <label class="form-label" for="controlServerSettingsDebugMode">
                Debug mode
                <span class="badge bg-info ms-1 align-middle" data-bs-toggle="tooltip" data-bs-placement="top" title="Print additional debug information to the terminal." style="font-size: 0.55em; color: black">?</span>
              </label>
              <select id="controlServerSettingsDebugMode" class="form-select controlServerSettingsInputField">
                <option value=true>Enabled</option>
                <option value=false>Disabled</option>
              </select> 
            </div>
          </div>
          <div id="controlServerSettingsIPWarning" class="mt-2 text-danger"> IP address field cannot be blank.</div>
          <div id="controlServerSettingsPortWarning" class="mt-2 text-danger"> The port must be a number.</div>
          <button id="controlServerSettingsSaveButton" class="btn btn-primary mt-2">Save changes</button>
        </div>

        <div class="tab-pane fade" id="nav-users" role="tabpanel" aria-labelledby="nav-users-tab">
          <div class="row mt-3">
            <div class="col-2">
              <button id="showEditUserModalButton" class="btn btn-primary">Create user</button>
            </div>
            <div class="col-12 mt-2">
              <h4>Users</h4>
              <div id="usersRow" class="row gy-2 row-cols-2 row-cols-md-3 row-cols-lg-5 col-xl-6">
              </div>
            </div>
            
          </div>
        </div>
        
        <div class="tab-pane fade" id="nav-help" role="tabpanel" aria-labelledby="nav-help-tab">
          <div class="row mt-4">
            <div id="helpNewAccountMessage" class="col-6 offset-3 alert alert-primary mb-4">
              <H4 class="text-center">Need an account?</H4>
              Exhibitera requires a user account to access functionality. If you need an account, or your password to be reset, please contact your system administrator.
            </div>
            <div class="col-12">
              <span class="alert alert-secondary">Version: <span id="versionSpan"></span></span>
              <button class="btn btn-info ms-3" data-bs-toggle="modal" data-bs-target="#whatsNewModal">What's New</button>
            </div>
            
            <div id='helpTextDiv' class='col-auto mt-3'>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script type="text/javascript" src="js/jquery-3.6.1.min.js"></script>
    <script type="text/javascript" src="js/bootstrap_5_3/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="js/showdown.min.js"></script>

    <script type="module" src="webpage.js"></script>



  </body>
</html>
